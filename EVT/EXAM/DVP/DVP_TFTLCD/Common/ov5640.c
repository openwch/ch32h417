/********************************** (C) COPYRIGHT *******************************
* File Name          : ov5640.c
* Author             : WCH
* Version            : V1.0.0
* Date               : 2025/09/15
* Description        : This file contains the headers of the ov5640.
*********************************************************************************
* Copyright (c) 2021 Nanjing Qinheng Microelectronics Co., Ltd.
* Attention: This software (modified or not) and binary are used for 
* microcontroller manufactured by Nanjing Qinheng Microelectronics.
*******************************************************************************/
#include "ov5640.h"
#include "debug.h"

/* OV5640 register initialization configuration table */
const OV5640_RegCfg_t OV5640_InitRegTbl[] = 
{
    {0x3008, 0x42},{0x3103, 0x03},{0x3017, 0xFF},{0x3018, 0xFF},{0x3034, 0x1A},{0x3037, 0x13},
    {0x3108, 0x01},{0x3630, 0x36},{0x3631, 0x0E},{0x3632, 0xE2},{0x3633, 0x12},{0x3621, 0xE0},
    {0x3704, 0xA0},{0x3703, 0x5A},{0x3715, 0x78},{0x3717, 0x01},{0x370B, 0x60},{0x3705, 0x1A},
    {0x3905, 0x02},{0x3906, 0x10},{0x3901, 0x0A},{0x3731, 0x12},{0x3600, 0x08},{0x3601, 0x33},
    {0x302D, 0x60},{0x3620, 0x52},{0x371B, 0x20},{0x471C, 0x50},{0x3A13, 0x43},{0x3A18, 0x00},
    {0x3A19, 0xF8},{0x3635, 0x13},{0x3636, 0x03},{0x3634, 0x40},{0x3622, 0x01},{0x3C01, 0x34},
    {0x3C04, 0x28},{0x3C05, 0x98},{0x3C06, 0x00},{0x3C07, 0x08},{0x3C08, 0x00},{0x3C09, 0x1C},
    {0x3C0A, 0x9C},{0x3C0B, 0x40},{0x3810, 0x00},{0x3811, 0x10},{0x3812, 0x00},{0x3708, 0x64},
    {0x4001, 0x02},{0x4005, 0x1A},{0x3000, 0x00},{0x3004, 0xFF},{0x300E, 0x58},{0x302E, 0x00},
    {0x4300, 0x30},{0x501F, 0x00},{0x440E, 0x00},{0x5000, 0xA7},{0x3A0F, 0x30},{0x3A10, 0x28},
    {0x3A1B, 0x30},{0x3A1E, 0x26},{0x3A11, 0x60},{0x3A1F, 0x14},{0x5800, 0x23},{0x5801, 0x14},
    {0x5802, 0x0F},{0x5803, 0x0F},{0x5804, 0x12},{0x5805, 0x26},{0x5806, 0x0C},{0x5807, 0x08},
    {0x5808, 0x05},{0x5809, 0x05},{0x580A, 0x08},{0x580B, 0x0D},{0x580C, 0x08},{0x580D, 0x03},
    {0x580E, 0x00},{0x580F, 0x00},{0x5810, 0x03},{0x5811, 0x09},{0x5812, 0x07},{0x5813, 0x03},
    {0x5814, 0x00},{0x5815, 0x01},{0x5816, 0x03},{0x5817, 0x08},{0x5818, 0x0D},{0x5819, 0x08},
    {0x581A, 0x05},{0x581B, 0x06},{0x581C, 0x08},{0x581D, 0x0E},{0x581E, 0x29},{0x581F, 0x17},
    {0x5820, 0x11},{0x5821, 0x11},{0x5822, 0x15},{0x5823, 0x28},{0x5824, 0x46},{0x5825, 0x26},
    {0x5826, 0x08},{0x5827, 0x26},{0x5828, 0x64},{0x5829, 0x26},{0x582A, 0x24},{0x582B, 0x22},
    {0x582C, 0x24},{0x582D, 0x24},{0x582E, 0x06},{0x582F, 0x22},{0x5830, 0x40},{0x5831, 0x42},
    {0x5832, 0x24},{0x5833, 0x26},{0x5834, 0x24},{0x5835, 0x22},{0x5836, 0x22},{0x5837, 0x26},
    {0x5838, 0x44},{0x5839, 0x24},{0x583A, 0x26},{0x583B, 0x28},{0x583C, 0x42},{0x583D, 0xCE},
    {0x5180, 0xFF},{0x5181, 0xF2},{0x5182, 0x00},{0x5183, 0x14},{0x5184, 0x25},{0x5185, 0x24},
    {0x5186, 0x09},{0x5187, 0x09},{0x5188, 0x09},{0x5189, 0x75},{0x518A, 0x54},{0x518B, 0xE0},
    {0x518C, 0xB2},{0x518D, 0x42},{0x518E, 0x3D},{0x518F, 0x56},{0x5190, 0x46},{0x5191, 0xF8},
    {0x5192, 0x04},{0x5193, 0x70},{0x5194, 0xF0},{0x5195, 0xF0},{0x5196, 0x03},{0x5197, 0x01},
    {0x5198, 0x04},{0x5199, 0x12},{0x519A, 0x04},{0x519B, 0x00},{0x519C, 0x06},{0x519D, 0x82},
    {0x519E, 0x38},{0x5480, 0x01},{0x5481, 0x08},{0x5482, 0x14},{0x5483, 0x28},{0x5484, 0x51},
    {0x5485, 0x65},{0x5486, 0x71},{0x5487, 0x7D},{0x5488, 0x87},{0x5489, 0x91},{0x548A, 0x9A},
    {0x548B, 0xAA},{0x548C, 0xB8},{0x548D, 0xCD},{0x548E, 0xDD},{0x548F, 0xEA},{0x5490, 0x1D},
    {0x5381, 0x1E},{0x5382, 0x5B},{0x5383, 0x08},{0x5384, 0x0A},{0x5385, 0x7E},{0x5386, 0x88},
    {0x5387, 0x7C},{0x5388, 0x6C},{0x5389, 0x10},{0x538A, 0x01},{0x538B, 0x98},{0x5580, 0x06},
    {0x5583, 0x40},{0x5584, 0x10},{0x5589, 0x10},{0x558A, 0x00},{0x558B, 0xF8},{0x501D, 0x40},
    {0x5300, 0x08},{0x5301, 0x30},{0x5302, 0x10},{0x5303, 0x00},{0x5304, 0x08},{0x5305, 0x30},
    {0x5306, 0x08},{0x5307, 0x16},{0x5309, 0x08},{0x530A, 0x30},{0x530B, 0x04},{0x530C, 0x06},
    {0x5025, 0x00},{0x3008, 0x02},{0x4740, 0x21},
};

/* RGB565 register configuration table */
const OV5640_RegCfg_t OV5640_RGB565RegTbl[] = 
{
    {0x4300, 0x6F},{0x501F, 0x01},{0x3035, 0x21},{0x3036, 0x7F},{0x3C07, 0x07},{0x3820, 0x46},
    {0x3821, 0x00},{0x3814, 0x31},{0x3815, 0x31},{0x3800, 0x00},{0x3801, 0x00},{0x3802, 0x00},
    {0x3803, 0x00},{0x3804, 0x0A},{0x3805, 0x3F},{0x3806, 0x06},{0x3807, 0xA9},{0x3808, 0x05},
    {0x3809, 0x00},{0x380A, 0x02},{0x380B, 0xD0},{0x380C, 0x05},{0x380D, 0xF8},{0x380E, 0x03},
    {0x380F, 0x84},{0x3813, 0x04},{0x3618, 0x00},{0x3612, 0x29},{0x3709, 0x52},{0x370C, 0x03},
    {0x3A02, 0x02},{0x3A03, 0xE0},{0x3A14, 0x02},{0x3A15, 0xE0},{0x4004, 0x02},{0x3002, 0x1C},
    {0x3006, 0xC3},{0x4713, 0x03},{0x4407, 0x04},{0x460B, 0x37},{0x460C, 0x20},{0x4837, 0x16},
    {0x3824, 0x04},{0x5001, 0xA3},{0x3503, 0x00},
};

/* JPEG register configuration table */
const OV5640_RegCfg_t OV5640_JPEGRegTbl[] = {
    {0x4300, 0x30},{0x501F, 0x00},{0x3035, 0x21},{0x3036, 0x69},{0x3C07, 0x07},{0x3820, 0x46},
    {0x3821, 0x20},{0x3814, 0x11},{0x3815, 0x11},{0x3800, 0x00},{0x3801, 0x00},{0x3802, 0x00},
    {0x3803, 0x00},{0x3804, 0x0A},{0x3805, 0x3F},{0x3806, 0x07},{0x3807, 0x9F},{0x3808, 0x02},
    {0x3809, 0x80},{0x380A, 0x01},{0x380B, 0xE0},{0x380C, 0x0B},{0x380D, 0x1C},{0x380E, 0x07},
    {0x380F, 0xB0},{0x3813, 0x04},{0x3618, 0x04},{0x3612, 0x2B},{0x3709, 0x12},{0x370C, 0x00},
    {0x4004, 0x06},{0x3002, 0x00},{0x3006, 0xFF},{0x4713, 0x03},{0x4407, 0x01},{0x460B, 0x35},
    {0x460C, 0x22},{0x4837, 0x16},{0x3824, 0x02},{0x5001, 0xA3},{0x3503, 0x00},
};

/* Autofocus firmware */
const UINT8 OV5640_AutoFocusFirmware[] = {
    0x02, 0x0F, 0xD6, 0x02, 0x0A, 0x39, 0xC2, 0x01, 0x22, 0x22, 0x00, 0x02, 0x0F, 0xB2, 0xE5, 0x1F,
    0x70, 0x72, 0xF5, 0x1E, 0xD2, 0x35, 0xFF, 0xEF, 0x25, 0xE0, 0x24, 0x4E, 0xF8, 0xE4, 0xF6, 0x08,
    0xF6, 0x0F, 0xBF, 0x34, 0xF2, 0x90, 0x0E, 0x93, 0xE4, 0x93, 0xFF, 0xE5, 0x4B, 0xC3, 0x9F, 0x50,
    0x04, 0x7F, 0x05, 0x80, 0x02, 0x7F, 0xFB, 0x78, 0xBD, 0xA6, 0x07, 0x12, 0x0F, 0x04, 0x40, 0x04,
    0x7F, 0x03, 0x80, 0x02, 0x7F, 0x30, 0x78, 0xBC, 0xA6, 0x07, 0xE6, 0x18, 0xF6, 0x08, 0xE6, 0x78,
    0xB9, 0xF6, 0x78, 0xBC, 0xE6, 0x78, 0xBA, 0xF6, 0x78, 0xBF, 0x76, 0x33, 0xE4, 0x08, 0xF6, 0x78,
    0xB8, 0x76, 0x01, 0x75, 0x4A, 0x02, 0x78, 0xB6, 0xF6, 0x08, 0xF6, 0x74, 0xFF, 0x78, 0xC1, 0xF6,
    0x08, 0xF6, 0x75, 0x1F, 0x01, 0x78, 0xBC, 0xE6, 0x75, 0xF0, 0x05, 0xA4, 0xF5, 0x4B, 0x12, 0x0A,
    0xFF, 0xC2, 0x37, 0x22, 0x78, 0xB8, 0xE6, 0xD3, 0x94, 0x00, 0x40, 0x02, 0x16, 0x22, 0xE5, 0x1F,
    0xB4, 0x05, 0x23, 0xE4, 0xF5, 0x1F, 0xC2, 0x01, 0x78, 0xB6, 0xE6, 0xFE, 0x08, 0xE6, 0xFF, 0x78,
    0x4E, 0xA6, 0x06, 0x08, 0xA6, 0x07, 0xA2, 0x37, 0xE4, 0x33, 0xF5, 0x3C, 0x90, 0x30, 0x28, 0xF0,
    0x75, 0x1E, 0x10, 0xD2, 0x35, 0x22, 0xE5, 0x4B, 0x75, 0xF0, 0x05, 0x84, 0x78, 0xBC, 0xF6, 0x90,
    0x0E, 0x8C, 0xE4, 0x93, 0xFF, 0x25, 0xE0, 0x24, 0x0A, 0xF8, 0xE6, 0xFC, 0x08, 0xE6, 0xFD, 0x78,
    0xBC, 0xE6, 0x25, 0xE0, 0x24, 0x4E, 0xF8, 0xA6, 0x04, 0x08, 0xA6, 0x05, 0xEF, 0x12, 0x0F, 0x0B,
    0xD3, 0x78, 0xB7, 0x96, 0xEE, 0x18, 0x96, 0x40, 0x0D, 0x78, 0xBC, 0xE6, 0x78, 0xB9, 0xF6, 0x78,
    0xB6, 0xA6, 0x06, 0x08, 0xA6, 0x07, 0x90, 0x0E, 0x8C, 0xE4, 0x93, 0x12, 0x0F, 0x0B, 0xC3, 0x78,
    0xC2, 0x96, 0xEE, 0x18, 0x96, 0x50, 0x0D, 0x78, 0xBC, 0xE6, 0x78, 0xBA, 0xF6, 0x78, 0xC1, 0xA6,
    0x06, 0x08, 0xA6, 0x07, 0x78, 0xB6, 0xE6, 0xFE, 0x08, 0xE6, 0xC3, 0x78, 0xC2, 0x96, 0xFF, 0xEE,
    0x18, 0x96, 0x78, 0xC3, 0xF6, 0x08, 0xA6, 0x07, 0x90, 0x0E, 0x95, 0xE4, 0x18, 0x12, 0x0E, 0xE9,
    0x40, 0x02, 0xD2, 0x37, 0x78, 0xBC, 0xE6, 0x08, 0x26, 0x08, 0xF6, 0xE5, 0x1F, 0x64, 0x01, 0x70,
    0x4A, 0xE6, 0xC3, 0x78, 0xC0, 0x12, 0x0E, 0xDF, 0x40, 0x05, 0x12, 0x0E, 0xDA, 0x40, 0x39, 0x12,
    0x0F, 0x02, 0x40, 0x04, 0x7F, 0xFE, 0x80, 0x02, 0x7F, 0x02, 0x78, 0xBD, 0xA6, 0x07, 0x78, 0xB9,
    0xE6, 0x24, 0x03, 0x78, 0xBF, 0xF6, 0x78, 0xB9, 0xE6, 0x24, 0xFD, 0x78, 0xC0, 0xF6, 0x12, 0x0F,
    0x02, 0x40, 0x06, 0x78, 0xC0, 0xE6, 0xFF, 0x80, 0x04, 0x78, 0xBF, 0xE6, 0xFF, 0x78, 0xBE, 0xA6,
    0x07, 0x75, 0x1F, 0x02, 0x78, 0xB8, 0x76, 0x01, 0x02, 0x02, 0x4A, 0xE5, 0x1F, 0x64, 0x02, 0x60,
    0x03, 0x02, 0x02, 0x2A, 0x78, 0xBE, 0xE6, 0xFF, 0xC3, 0x78, 0xC0, 0x12, 0x0E, 0xE0, 0x40, 0x08,
    0x12, 0x0E, 0xDA, 0x50, 0x03, 0x02, 0x02, 0x28, 0x12, 0x0F, 0x02, 0x40, 0x04, 0x7F, 0xFF, 0x80,
    0x02, 0x7F, 0x01, 0x78, 0xBD, 0xA6, 0x07, 0x78, 0xB9, 0xE6, 0x04, 0x78, 0xBF, 0xF6, 0x78, 0xB9,
    0xE6, 0x14, 0x78, 0xC0, 0xF6, 0x18, 0x12, 0x0F, 0x04, 0x40, 0x04, 0xE6, 0xFF, 0x80, 0x02, 0x7F,
    0x00, 0x78, 0xBF, 0xA6, 0x07, 0xD3, 0x08, 0xE6, 0x64, 0x80, 0x94, 0x80, 0x40, 0x04, 0xE6, 0xFF,
    0x80, 0x02, 0x7F, 0x00, 0x78, 0xC0, 0xA6, 0x07, 0xC3, 0x18, 0xE6, 0x64, 0x80, 0x94, 0xB3, 0x50,
    0x04, 0xE6, 0xFF, 0x80, 0x02, 0x7F, 0x33, 0x78, 0xBF, 0xA6, 0x07, 0xC3, 0x08, 0xE6, 0x64, 0x80,
    0x94, 0xB3, 0x50, 0x04, 0xE6, 0xFF, 0x80, 0x02, 0x7F, 0x33, 0x78, 0xC0, 0xA6, 0x07, 0x12, 0x0F,
    0x02, 0x40, 0x06, 0x78, 0xC0, 0xE6, 0xFF, 0x80, 0x04, 0x78, 0xBF, 0xE6, 0xFF, 0x78, 0xBE, 0xA6,
    0x07, 0x75, 0x1F, 0x03, 0x78, 0xB8, 0x76, 0x01, 0x80, 0x20, 0xE5, 0x1F, 0x64, 0x03, 0x70, 0x26,
    0x78, 0xBE, 0xE6, 0xFF, 0xC3, 0x78, 0xC0, 0x12, 0x0E, 0xE0, 0x40, 0x05, 0x12, 0x0E, 0xDA, 0x40,
    0x09, 0x78, 0xB9, 0xE6, 0x78, 0xBE, 0xF6, 0x75, 0x1F, 0x04, 0x78, 0xBE, 0xE6, 0x75, 0xF0, 0x05,
    0xA4, 0xF5, 0x4B, 0x02, 0x0A, 0xFF, 0xE5, 0x1F, 0xB4, 0x04, 0x10, 0x90, 0x0E, 0x94, 0xE4, 0x78,
    0xC3, 0x12, 0x0E, 0xE9, 0x40, 0x02, 0xD2, 0x37, 0x75, 0x1F, 0x05, 0x22, 0x30, 0x01, 0x03, 0x02,
    0x04, 0xC0, 0x30, 0x02, 0x03, 0x02, 0x04, 0xC0, 0x90, 0x51, 0xA5, 0xE0, 0x78, 0x93, 0xF6, 0xA3,
    0xE0, 0x08, 0xF6, 0xA3, 0xE0, 0x08, 0xF6, 0xE5, 0x1F, 0x70, 0x3C, 0x75, 0x1E, 0x20, 0xD2, 0x35,
    0x12, 0x0C, 0x7A, 0x78, 0x7E, 0xA6, 0x06, 0x08, 0xA6, 0x07, 0x78, 0x8B, 0xA6, 0x09, 0x18, 0x76,
    0x01, 0x12, 0x0C, 0x5B, 0x78, 0x4E, 0xA6, 0x06, 0x08, 0xA6, 0x07, 0x78, 0x8B, 0xE6, 0x78, 0x6E,
    0xF6, 0x75, 0x1F, 0x01, 0x78, 0x93, 0xE6, 0x78, 0x90, 0xF6, 0x78, 0x94, 0xE6, 0x78, 0x91, 0xF6,
    0x78, 0x95, 0xE6, 0x78, 0x92, 0xF6, 0x22, 0x79, 0x90, 0xE7, 0xD3, 0x78, 0x93, 0x96, 0x40, 0x05,
    0xE7, 0x96, 0xFF, 0x80, 0x08, 0xC3, 0x79, 0x93, 0xE7, 0x78, 0x90, 0x96, 0xFF, 0x78, 0x88, 0x76,
    0x00, 0x08, 0xA6, 0x07, 0x79, 0x91, 0xE7, 0xD3, 0x78, 0x94, 0x96, 0x40, 0x05, 0xE7, 0x96, 0xFF,
    0x80, 0x08, 0xC3, 0x79, 0x94, 0xE7, 0x78, 0x91, 0x96, 0xFF, 0x12, 0x0C, 0x8E, 0x79, 0x92, 0xE7,
    0xD3, 0x78, 0x95, 0x96, 0x40, 0x05, 0xE7, 0x96, 0xFF, 0x80, 0x08, 0xC3, 0x79, 0x95, 0xE7, 0x78,
    0x92, 0x96, 0xFF, 0x12, 0x0C, 0x8E, 0x12, 0x0C, 0x5B, 0x78, 0x8A, 0xE6, 0x25, 0xE0, 0x24, 0x4E,
    0xF8, 0xA6, 0x06, 0x08, 0xA6, 0x07, 0x78, 0x8A, 0xE6, 0x24, 0x6E, 0xF8, 0xA6, 0x09, 0x78, 0x8A,
    0xE6, 0x24, 0x01, 0xFF, 0xE4, 0x33, 0xFE, 0xD3, 0xEF, 0x94, 0x0F, 0xEE, 0x64, 0x80, 0x94, 0x80,
    0x40, 0x04, 0x7F, 0x00, 0x80, 0x05, 0x78, 0x8A, 0xE6, 0x04, 0xFF, 0x78, 0x8A, 0xA6, 0x07, 0xE5,
    0x1F, 0xB4, 0x01, 0x0A, 0xE6, 0x60, 0x03, 0x02, 0x04, 0xC0, 0x75, 0x1F, 0x02, 0x22, 0x12, 0x0C,
    0x7A, 0x78, 0x80, 0xA6, 0x06, 0x08, 0xA6, 0x07, 0x12, 0x0C, 0x7A, 0x78, 0x82, 0xA6, 0x06, 0x08,
    0xA6, 0x07, 0x78, 0x6E, 0xE6, 0x78, 0x8C, 0xF6, 0x78, 0x6E, 0xE6, 0x78, 0x8D, 0xF6, 0x7F, 0x01,
    0xEF, 0x25, 0xE0, 0x24, 0x4F, 0xF9, 0xC3, 0x78, 0x81, 0xE6, 0x97, 0x18, 0xE6, 0x19, 0x97, 0x50,
    0x0A, 0x12, 0x0C, 0x82, 0x78, 0x80, 0xA6, 0x04, 0x08, 0xA6, 0x05, 0x74, 0x6E, 0x2F, 0xF9, 0x78,
    0x8C, 0xE6, 0xC3, 0x97, 0x50, 0x08, 0x74, 0x6E, 0x2F, 0xF8, 0xE6, 0x78, 0x8C, 0xF6, 0xEF, 0x25,
    0xE0, 0x24, 0x4F, 0xF9, 0xD3, 0x78, 0x83, 0xE6, 0x97, 0x18, 0xE6, 0x19, 0x97, 0x40, 0x0A, 0x12,
    0x0C, 0x82, 0x78, 0x82, 0xA6, 0x04, 0x08, 0xA6, 0x05, 0x74, 0x6E, 0x2F, 0xF9, 0x78, 0x8D, 0xE6,
    0xD3, 0x97, 0x40, 0x08, 0x74, 0x6E, 0x2F, 0xF8, 0xE6, 0x78, 0x8D, 0xF6, 0x0F, 0xEF, 0x64, 0x10,
    0x70, 0x9E, 0xC3, 0x79, 0x81, 0xE7, 0x78, 0x83, 0x96, 0xFF, 0x19, 0xE7, 0x18, 0x96, 0x78, 0x84,
    0xF6, 0x08, 0xA6, 0x07, 0xC3, 0x79, 0x8C, 0xE7, 0x78, 0x8D, 0x96, 0x08, 0xF6, 0xD3, 0x79, 0x81,
    0xE7, 0x78, 0x7F, 0x96, 0x19, 0xE7, 0x18, 0x96, 0x40, 0x05, 0x09, 0xE7, 0x08, 0x80, 0x06, 0xC3,
    0x79, 0x7F, 0xE7, 0x78, 0x81, 0x96, 0xFF, 0x19, 0xE7, 0x18, 0x96, 0xFE, 0x78, 0x86, 0xA6, 0x06,
    0x08, 0xA6, 0x07, 0x79, 0x8C, 0xE7, 0xD3, 0x78, 0x8B, 0x96, 0x40, 0x05, 0xE7, 0x96, 0xFF, 0x80,
    0x08, 0xC3, 0x79, 0x8B, 0xE7, 0x78, 0x8C, 0x96, 0xFF, 0x78, 0x8F, 0xA6, 0x07, 0xE5, 0x1F, 0x64,
    0x02, 0x70, 0x69, 0x90, 0x0E, 0x91, 0x93, 0xFF, 0x18, 0xE6, 0xC3, 0x9F, 0x50, 0x72, 0x12, 0x0C,
    0x4A, 0x12, 0x0C, 0x2F, 0x90, 0x0E, 0x8E, 0x12, 0x0C, 0x38, 0x78, 0x80, 0x12, 0x0C, 0x6B, 0x7B,
    0x04, 0x12, 0x0C, 0x1D, 0xC3, 0x12, 0x06, 0x45, 0x50, 0x56, 0x90, 0x0E, 0x92, 0xE4, 0x93, 0xFF,
    0x78, 0x8F, 0xE6, 0x9F, 0x40, 0x02, 0x80, 0x11, 0x90, 0x0E, 0x90, 0xE4, 0x93, 0xFF, 0xD3, 0x78,
    0x89, 0xE6, 0x9F, 0x18, 0xE6, 0x94, 0x00, 0x40, 0x03, 0x75, 0x1F, 0x05, 0x12, 0x0C, 0x4A, 0x12,
    0x0C, 0x2F, 0x90, 0x0E, 0x8F, 0x12, 0x0C, 0x38, 0x78, 0x7E, 0x12, 0x0C, 0x6B, 0x7B, 0x40, 0x12,
    0x0C, 0x1D, 0xD3, 0x12, 0x06, 0x45, 0x40, 0x18, 0x75, 0x1F, 0x05, 0x22, 0xE5, 0x1F, 0xB4, 0x05,
    0x0F, 0xD2, 0x01, 0xC2, 0x02, 0xE4, 0xF5, 0x1F, 0xF5, 0x1E, 0xD2, 0x35, 0xD2, 0x33, 0xD2, 0x36,
    0x22, 0xEF, 0x8D, 0xF0, 0xA4, 0xA8, 0xF0, 0xCF, 0x8C, 0xF0, 0xA4, 0x28, 0xCE, 0x8D, 0xF0, 0xA4,
    0x2E, 0xFE, 0x22, 0xBC, 0x00, 0x0B, 0xBE, 0x00, 0x29, 0xEF, 0x8D, 0xF0, 0x84, 0xFF, 0xAD, 0xF0,
    0x22, 0xE4, 0xCC, 0xF8, 0x75, 0xF0, 0x08, 0xEF, 0x2F, 0xFF, 0xEE, 0x33, 0xFE, 0xEC, 0x33, 0xFC,
    0xEE, 0x9D, 0xEC, 0x98, 0x40, 0x05, 0xFC, 0xEE, 0x9D, 0xFE, 0x0F, 0xD5, 0xF0, 0xE9, 0xE4, 0xCE,
    0xFD, 0x22, 0xED, 0xF8, 0xF5, 0xF0, 0xEE, 0x84, 0x20, 0xD2, 0x1C, 0xFE, 0xAD, 0xF0, 0x75, 0xF0,
    0x08, 0xEF, 0x2F, 0xFF, 0xED, 0x33, 0xFD, 0x40, 0x07, 0x98, 0x50, 0x06, 0xD5, 0xF0, 0xF2, 0x22,
    0xC3, 0x98, 0xFD, 0x0F, 0xD5, 0xF0, 0xEA, 0x22, 0xE8, 0x8F, 0xF0, 0xA4, 0xCC, 0x8B, 0xF0, 0xA4,
    0x2C, 0xFC, 0xE9, 0x8E, 0xF0, 0xA4, 0x2C, 0xFC, 0x8A, 0xF0, 0xED, 0xA4, 0x2C, 0xFC, 0xEA, 0x8E,
    0xF0, 0xA4, 0xCD, 0xA8, 0xF0, 0x8B, 0xF0, 0xA4, 0x2D, 0xCC, 0x38, 0x25, 0xF0, 0xFD, 0xE9, 0x8F,
    0xF0, 0xA4, 0x2C, 0xCD, 0x35, 0xF0, 0xFC, 0xEB, 0x8E, 0xF0, 0xA4, 0xFE, 0xA9, 0xF0, 0xEB, 0x8F,
    0xF0, 0xA4, 0xCF, 0xC5, 0xF0, 0x2E, 0xCD, 0x39, 0xFE, 0xE4, 0x3C, 0xFC, 0xEA, 0xA4, 0x2D, 0xCE,
    0x35, 0xF0, 0xFD, 0xE4, 0x3C, 0xFC, 0x22, 0x75, 0xF0, 0x08, 0x75, 0x82, 0x00, 0xEF, 0x2F, 0xFF,
    0xEE, 0x33, 0xFE, 0xCD, 0x33, 0xCD, 0xCC, 0x33, 0xCC, 0xC5, 0x82, 0x33, 0xC5, 0x82, 0x9B, 0xED,
    0x9A, 0xEC, 0x99, 0xE5, 0x82, 0x98, 0x40, 0x0C, 0xF5, 0x82, 0xEE, 0x9B, 0xFE, 0xED, 0x9A, 0xFD,
    0xEC, 0x99, 0xFC, 0x0F, 0xD5, 0xF0, 0xD6, 0xE4, 0xCE, 0xFB, 0xE4, 0xCD, 0xFA, 0xE4, 0xCC, 0xF9,
    0xA8, 0x82, 0x22, 0xB8, 0x00, 0xC1, 0xB9, 0x00, 0x59, 0xBA, 0x00, 0x2D, 0xEC, 0x8B, 0xF0, 0x84,
    0xCF, 0xCE, 0xCD, 0xFC, 0xE5, 0xF0, 0xCB, 0xF9, 0x78, 0x18, 0xEF, 0x2F, 0xFF, 0xEE, 0x33, 0xFE,
    0xED, 0x33, 0xFD, 0xEC, 0x33, 0xFC, 0xEB, 0x33, 0xFB, 0x10, 0xD7, 0x03, 0x99, 0x40, 0x04, 0xEB,
    0x99, 0xFB, 0x0F, 0xD8, 0xE5, 0xE4, 0xF9, 0xFA, 0x22, 0x78, 0x18, 0xEF, 0x2F, 0xFF, 0xEE, 0x33,
    0xFE, 0xED, 0x33, 0xFD, 0xEC, 0x33, 0xFC, 0xC9, 0x33, 0xC9, 0x10, 0xD7, 0x05, 0x9B, 0xE9, 0x9A,
    0x40, 0x07, 0xEC, 0x9B, 0xFC, 0xE9, 0x9A, 0xF9, 0x0F, 0xD8, 0xE0, 0xE4, 0xC9, 0xFA, 0xE4, 0xCC,
    0xFB, 0x22, 0x75, 0xF0, 0x10, 0xEF, 0x2F, 0xFF, 0xEE, 0x33, 0xFE, 0xED, 0x33, 0xFD, 0xCC, 0x33,
    0xCC, 0xC8, 0x33, 0xC8, 0x10, 0xD7, 0x07, 0x9B, 0xEC, 0x9A, 0xE8, 0x99, 0x40, 0x0A, 0xED, 0x9B,
    0xFD, 0xEC, 0x9A, 0xFC, 0xE8, 0x99, 0xF8, 0x0F, 0xD5, 0xF0, 0xDA, 0xE4, 0xCD, 0xFB, 0xE4, 0xCC,
    0xFA, 0xE4, 0xC8, 0xF9, 0x22, 0xEB, 0x9F, 0xF5, 0xF0, 0xEA, 0x9E, 0x42, 0xF0, 0xE9, 0x9D, 0x42,
    0xF0, 0xE8, 0x9C, 0x45, 0xF0, 0x22, 0xE8, 0x60, 0x0F, 0xEC, 0xC3, 0x13, 0xFC, 0xED, 0x13, 0xFD,
    0xEE, 0x13, 0xFE, 0xEF, 0x13, 0xFF, 0xD8, 0xF1, 0x22, 0xE8, 0x60, 0x0F, 0xEF, 0xC3, 0x33, 0xFF,
    0xEE, 0x33, 0xFE, 0xED, 0x33, 0xFD, 0xEC, 0x33, 0xFC, 0xD8, 0xF1, 0x22, 0xE4, 0x93, 0xFC, 0x74,
    0x01, 0x93, 0xFD, 0x74, 0x02, 0x93, 0xFE, 0x74, 0x03, 0x93, 0xFF, 0x22, 0xE6, 0xFB, 0x08, 0xE6,
    0xF9, 0x08, 0xE6, 0xFA, 0x08, 0xE6, 0xCB, 0xF8, 0x22, 0xEC, 0xF6, 0x08, 0xED, 0xF6, 0x08, 0xEE,
    0xF6, 0x08, 0xEF, 0xF6, 0x22, 0xA4, 0x25, 0x82, 0xF5, 0x82, 0xE5, 0xF0, 0x35, 0x83, 0xF5, 0x83,
    0x22, 0xD0, 0x83, 0xD0, 0x82, 0xF8, 0xE4, 0x93, 0x70, 0x12, 0x74, 0x01, 0x93, 0x70, 0x0D, 0xA3,
    0xA3, 0x93, 0xF8, 0x74, 0x01, 0x93, 0xF5, 0x82, 0x88, 0x83, 0xE4, 0x73, 0x74, 0x02, 0x93, 0x68,
    0x60, 0xEF, 0xA3, 0xA3, 0xA3, 0x80, 0xDF, 0x90, 0x38, 0x04, 0x78, 0x52, 0x12, 0x0B, 0xFD, 0x90,
    0x38, 0x00, 0xE0, 0xFE, 0xA3, 0xE0, 0xFD, 0xED, 0xFF, 0xC3, 0x12, 0x0B, 0x9E, 0x90, 0x38, 0x10,
    0x12, 0x0B, 0x92, 0x90, 0x38, 0x06, 0x78, 0x54, 0x12, 0x0B, 0xFD, 0x90, 0x38, 0x02, 0xE0, 0xFE,
    0xA3, 0xE0, 0xFD, 0xED, 0xFF, 0xC3, 0x12, 0x0B, 0x9E, 0x90, 0x38, 0x12, 0x12, 0x0B, 0x92, 0xA3,
    0xE0, 0xB4, 0x31, 0x07, 0x78, 0x52, 0x79, 0x52, 0x12, 0x0C, 0x13, 0x90, 0x38, 0x14, 0xE0, 0xB4,
    0x71, 0x15, 0x78, 0x52, 0xE6, 0xFE, 0x08, 0xE6, 0x78, 0x02, 0xCE, 0xC3, 0x13, 0xCE, 0x13, 0xD8,
    0xF9, 0x79, 0x53, 0xF7, 0xEE, 0x19, 0xF7, 0x90, 0x38, 0x15, 0xE0, 0xB4, 0x31, 0x07, 0x78, 0x54,
    0x79, 0x54, 0x12, 0x0C, 0x13, 0x90, 0x38, 0x15, 0xE0, 0xB4, 0x71, 0x15, 0x78, 0x54, 0xE6, 0xFE,
    0x08, 0xE6, 0x78, 0x02, 0xCE, 0xC3, 0x13, 0xCE, 0x13, 0xD8, 0xF9, 0x79, 0x55, 0xF7, 0xEE, 0x19,
    0xF7, 0x79, 0x52, 0x12, 0x0B, 0xD9, 0x09, 0x12, 0x0B, 0xD9, 0xAF, 0x47, 0x12, 0x0B, 0xB2, 0xE5,
    0x44, 0xFB, 0x7A, 0x00, 0xFD, 0x7C, 0x00, 0x12, 0x04, 0xD3, 0x78, 0x5A, 0xA6, 0x06, 0x08, 0xA6,
    0x07, 0xAF, 0x45, 0x12, 0x0B, 0xB2, 0xAD, 0x03, 0x7C, 0x00, 0x12, 0x04, 0xD3, 0x78, 0x56, 0xA6,
    0x06, 0x08, 0xA6, 0x07, 0xAF, 0x48, 0x78, 0x54, 0x12, 0x0B, 0xB4, 0xE5, 0x43, 0xFB, 0xFD, 0x7C,
    0x00, 0x12, 0x04, 0xD3, 0x78, 0x5C, 0xA6, 0x06, 0x08, 0xA6, 0x07, 0xAF, 0x46, 0x7E, 0x00, 0x78,
    0x54, 0x12, 0x0B, 0xB6, 0xAD, 0x03, 0x7C, 0x00, 0x12, 0x04, 0xD3, 0x78, 0x58, 0xA6, 0x06, 0x08,
    0xA6, 0x07, 0xC3, 0x78, 0x5B, 0xE6, 0x94, 0x08, 0x18, 0xE6, 0x94, 0x00, 0x50, 0x05, 0x76, 0x00,
    0x08, 0x76, 0x08, 0xC3, 0x78, 0x5D, 0xE6, 0x94, 0x08, 0x18, 0xE6, 0x94, 0x00, 0x50, 0x05, 0x76,
    0x00, 0x08, 0x76, 0x08, 0x78, 0x5A, 0x12, 0x0B, 0xC6, 0xFF, 0xD3, 0x78, 0x57, 0xE6, 0x9F, 0x18,
    0xE6, 0x9E, 0x40, 0x0E, 0x78, 0x5A, 0xE6, 0x13, 0xFE, 0x08, 0xE6, 0x78, 0x57, 0x12, 0x0C, 0x08,
    0x80, 0x04, 0x7E, 0x00, 0x7F, 0x00, 0x78, 0x5E, 0x12, 0x0B, 0xBE, 0xFF, 0xD3, 0x78, 0x59, 0xE6,
    0x9F, 0x18, 0xE6, 0x9E, 0x40, 0x0E, 0x78, 0x5C, 0xE6, 0x13, 0xFE, 0x08, 0xE6, 0x78, 0x59, 0x12,
    0x0C, 0x08, 0x80, 0x04, 0x7E, 0x00, 0x7F, 0x00, 0xE4, 0xFC, 0xFD, 0x78, 0x62, 0x12, 0x06, 0x99,
    0x78, 0x5A, 0x12, 0x0B, 0xC6, 0x78, 0x57, 0x26, 0xFF, 0xEE, 0x18, 0x36, 0xFE, 0x78, 0x66, 0x12,
    0x0B, 0xBE, 0x78, 0x59, 0x26, 0xFF, 0xEE, 0x18, 0x36, 0xFE, 0xE4, 0xFC, 0xFD, 0x78, 0x6A, 0x12,
    0x06, 0x99, 0x12, 0x0B, 0xCE, 0x78, 0x66, 0x12, 0x06, 0x8C, 0xD3, 0x12, 0x06, 0x45, 0x40, 0x08,
    0x12, 0x0B, 0xCE, 0x78, 0x66, 0x12, 0x06, 0x99, 0x78, 0x54, 0x12, 0x0B, 0xD0, 0x78, 0x6A, 0x12,
    0x06, 0x8C, 0xD3, 0x12, 0x06, 0x45, 0x40, 0x0A, 0x78, 0x54, 0x12, 0x0B, 0xD0, 0x78, 0x6A, 0x12,
    0x06, 0x99, 0x78, 0x61, 0xE6, 0x90, 0x60, 0x01, 0xF0, 0x78, 0x65, 0xE6, 0xA3, 0xF0, 0x78, 0x69,
    0xE6, 0xA3, 0xF0, 0x78, 0x55, 0xE6, 0xA3, 0xF0, 0x7D, 0x01, 0x78, 0x61, 0x12, 0x0B, 0xE9, 0x24,
    0x01, 0x12, 0x0B, 0xA6, 0x78, 0x65, 0x12, 0x0B, 0xE9, 0x24, 0x02, 0x12, 0x0B, 0xA6, 0x78, 0x69,
    0x12, 0x0B, 0xE9, 0x24, 0x03, 0x12, 0x0B, 0xA6, 0x78, 0x6D, 0x12, 0x0B, 0xE9, 0x24, 0x04, 0x12,
    0x0B, 0xA6, 0x0D, 0xBD, 0x05, 0xD4, 0xC2, 0x0E, 0xC2, 0x06, 0x22, 0x85, 0x08, 0x41, 0x90, 0x30,
    0x24, 0xE0, 0xF5, 0x3D, 0xA3, 0xE0, 0xF5, 0x3E, 0xA3, 0xE0, 0xF5, 0x3F, 0xA3, 0xE0, 0xF5, 0x40,
    0xA3, 0xE0, 0xF5, 0x3C, 0xD2, 0x34, 0xE5, 0x41, 0x12, 0x06, 0xB1, 0x09, 0x31, 0x03, 0x09, 0x35,
    0x04, 0x09, 0x3B, 0x05, 0x09, 0x3E, 0x06, 0x09, 0x41, 0x07, 0x09, 0x4A, 0x08, 0x09, 0x5B, 0x12,
    0x09, 0x73, 0x18, 0x09, 0x89, 0x19, 0x09, 0x5E, 0x1A, 0x09, 0x6A, 0x1B, 0x09, 0xAD, 0x80, 0x09,
    0xB2, 0x81, 0x0A, 0x1D, 0x8F, 0x0A, 0x09, 0x90, 0x0A, 0x1D, 0x91, 0x0A, 0x1D, 0x92, 0x0A, 0x1D,
    0x93, 0x0A, 0x1D, 0x94, 0x0A, 0x1D, 0x98, 0x0A, 0x17, 0x9F, 0x0A, 0x1A, 0xEC, 0x00, 0x00, 0x0A,
    0x38, 0x12, 0x0F, 0x74, 0x22, 0x12, 0x0F, 0x74, 0xD2, 0x03, 0x22, 0xD2, 0x03, 0x22, 0xC2, 0x03,
    0x22, 0xA2, 0x37, 0xE4, 0x33, 0xF5, 0x3C, 0x02, 0x0A, 0x1D, 0xC2, 0x01, 0xC2, 0x02, 0xC2, 0x03,
    0x12, 0x0D, 0x0D, 0x75, 0x1E, 0x70, 0xD2, 0x35, 0x02, 0x0A, 0x1D, 0x02, 0x0A, 0x04, 0x85, 0x40,
    0x4A, 0x85, 0x3C, 0x4B, 0x12, 0x0A, 0xFF, 0x02, 0x0A, 0x1D, 0x85, 0x4A, 0x40, 0x85, 0x4B, 0x3C,
    0x02, 0x0A, 0x1D, 0xE4, 0xF5, 0x22, 0xF5, 0x23, 0x85, 0x40, 0x31, 0x85, 0x3F, 0x30, 0x85, 0x3E,
    0x2F, 0x85, 0x3D, 0x2E, 0x12, 0x0F, 0x46, 0x80, 0x1F, 0x75, 0x22, 0x00, 0x75, 0x23, 0x01, 0x74,
    0xFF, 0xF5, 0x2D, 0xF5, 0x2C, 0xF5, 0x2B, 0xF5, 0x2A, 0x12, 0x0F, 0x46, 0x85, 0x2D, 0x40, 0x85,
    0x2C, 0x3F, 0x85, 0x2B, 0x3E, 0x85, 0x2A, 0x3D, 0xE4, 0xF5, 0x3C, 0x80, 0x70, 0x12, 0x0F, 0x16,
    0x80, 0x6B, 0x85, 0x3D, 0x45, 0x85, 0x3E, 0x46, 0xE5, 0x47, 0xC3, 0x13, 0xFF, 0xE5, 0x45, 0xC3,
    0x9F, 0x50, 0x02, 0x8F, 0x45, 0xE5, 0x48, 0xC3, 0x13, 0xFF, 0xE5, 0x46, 0xC3, 0x9F, 0x50, 0x02,
    0x8F, 0x46, 0xE5, 0x47, 0xC3, 0x13, 0xFF, 0xFD, 0xE5, 0x45, 0x2D, 0xFD, 0xE4, 0x33, 0xFC, 0xE5,
    0x44, 0x12, 0x0F, 0x90, 0x40, 0x05, 0xE5, 0x44, 0x9F, 0xF5, 0x45, 0xE5, 0x48, 0xC3, 0x13, 0xFF,
    0xFD, 0xE5, 0x46, 0x2D, 0xFD, 0xE4, 0x33, 0xFC, 0xE5, 0x43, 0x12, 0x0F, 0x90, 0x40, 0x05, 0xE5,
    0x43, 0x9F, 0xF5, 0x46, 0x12, 0x06, 0xD7, 0x80, 0x14, 0x85, 0x40, 0x48, 0x85, 0x3F, 0x47, 0x85,
    0x3E, 0x46, 0x85, 0x3D, 0x45, 0x80, 0x06, 0x02, 0x06, 0xD7, 0x12, 0x0D, 0x7E, 0x90, 0x30, 0x24,
    0xE5, 0x3D, 0xF0, 0xA3, 0xE5, 0x3E, 0xF0, 0xA3, 0xE5, 0x3F, 0xF0, 0xA3, 0xE5, 0x40, 0xF0, 0xA3,
    0xE5, 0x3C, 0xF0, 0x90, 0x30, 0x23, 0xE4, 0xF0, 0x22, 0xC0, 0xE0, 0xC0, 0x83, 0xC0, 0x82, 0xC0,
    0xD0, 0x90, 0x3F, 0x0C, 0xE0, 0xF5, 0x32, 0xE5, 0x32, 0x30, 0xE3, 0x74, 0x30, 0x36, 0x66, 0x90,
    0x60, 0x19, 0xE0, 0xF5, 0x0A, 0xA3, 0xE0, 0xF5, 0x0B, 0x90, 0x60, 0x1D, 0xE0, 0xF5, 0x14, 0xA3,
    0xE0, 0xF5, 0x15, 0x90, 0x60, 0x21, 0xE0, 0xF5, 0x0C, 0xA3, 0xE0, 0xF5, 0x0D, 0x90, 0x60, 0x29,
    0xE0, 0xF5, 0x0E, 0xA3, 0xE0, 0xF5, 0x0F, 0x90, 0x60, 0x31, 0xE0, 0xF5, 0x10, 0xA3, 0xE0, 0xF5,
    0x11, 0x90, 0x60, 0x39, 0xE0, 0xF5, 0x12, 0xA3, 0xE0, 0xF5, 0x13, 0x30, 0x01, 0x06, 0x30, 0x33,
    0x03, 0xD3, 0x80, 0x01, 0xC3, 0x92, 0x09, 0x30, 0x02, 0x06, 0x30, 0x33, 0x03, 0xD3, 0x80, 0x01,
    0xC3, 0x92, 0x0A, 0x30, 0x33, 0x0C, 0x30, 0x03, 0x09, 0x20, 0x02, 0x06, 0x20, 0x01, 0x03, 0xD3,
    0x80, 0x01, 0xC3, 0x92, 0x0B, 0x90, 0x30, 0x01, 0xE0, 0x44, 0x40, 0xF0, 0xE0, 0x54, 0xBF, 0xF0,
    0xE5, 0x32, 0x30, 0xE1, 0x14, 0x30, 0x34, 0x11, 0x90, 0x30, 0x22, 0xE0, 0xF5, 0x08, 0xE4, 0xF0,
    0x30, 0x00, 0x03, 0xD3, 0x80, 0x01, 0xC3, 0x92, 0x08, 0xE5, 0x32, 0x30, 0xE5, 0x12, 0x90, 0x56,
    0xA1, 0xE0, 0xF5, 0x09, 0x30, 0x31, 0x09, 0x30, 0x05, 0x03, 0xD3, 0x80, 0x01, 0xC3, 0x92, 0x0D,
    0x90, 0x3F, 0x0C, 0xE5, 0x32, 0xF0, 0xD0, 0xD0, 0xD0, 0x82, 0xD0, 0x83, 0xD0, 0xE0, 0x32, 0x90,
    0x0E, 0x7E, 0xE4, 0x93, 0xFE, 0x74, 0x01, 0x93, 0xFF, 0xC3, 0x90, 0x0E, 0x7C, 0x74, 0x01, 0x93,
    0x9F, 0xFF, 0xE4, 0x93, 0x9E, 0xFE, 0xE4, 0x8F, 0x3B, 0x8E, 0x3A, 0xF5, 0x39, 0xF5, 0x38, 0xAB,
    0x3B, 0xAA, 0x3A, 0xA9, 0x39, 0xA8, 0x38, 0xAF, 0x4B, 0xFC, 0xFD, 0xFE, 0x12, 0x05, 0x28, 0x12,
    0x0D, 0xE1, 0xE4, 0x7B, 0xFF, 0xFA, 0xF9, 0xF8, 0x12, 0x05, 0xB3, 0x12, 0x0D, 0xE1, 0x90, 0x0E,
    0x69, 0xE4, 0x12, 0x0D, 0xF6, 0x12, 0x0D, 0xE1, 0xE4, 0x85, 0x4A, 0x37, 0xF5, 0x36, 0xF5, 0x35,
    0xF5, 0x34, 0xAF, 0x37, 0xAE, 0x36, 0xAD, 0x35, 0xAC, 0x34, 0xA3, 0x12, 0x0D, 0xF6, 0x8F, 0x37,
    0x8E, 0x36, 0x8D, 0x35, 0x8C, 0x34, 0xE5, 0x3B, 0x45, 0x37, 0xF5, 0x3B, 0xE5, 0x3A, 0x45, 0x36,
    0xF5, 0x3A, 0xE5, 0x39, 0x45, 0x35, 0xF5, 0x39, 0xE5, 0x38, 0x45, 0x34, 0xF5, 0x38, 0xE4, 0xF5,
    0x22, 0xF5, 0x23, 0x85, 0x3B, 0x31, 0x85, 0x3A, 0x30, 0x85, 0x39, 0x2F, 0x85, 0x38, 0x2E, 0x02,
    0x0F, 0x46, 0xE0, 0xA3, 0xE0, 0x75, 0xF0, 0x02, 0xA4, 0xFF, 0xAE, 0xF0, 0xC3, 0x08, 0xE6, 0x9F,
    0xF6, 0x18, 0xE6, 0x9E, 0xF6, 0x22, 0xFF, 0xE5, 0xF0, 0x34, 0x60, 0x8F, 0x82, 0xF5, 0x83, 0xEC,
    0xF0, 0x22, 0x78, 0x52, 0x7E, 0x00, 0xE6, 0xFC, 0x08, 0xE6, 0xFD, 0x02, 0x04, 0xC1, 0xE4, 0xFC,
    0xFD, 0x12, 0x06, 0x99, 0x78, 0x5C, 0xE6, 0xC3, 0x13, 0xFE, 0x08, 0xE6, 0x13, 0x22, 0x78, 0x52,
    0xE6, 0xFE, 0x08, 0xE6, 0xFF, 0xE4, 0xFC, 0xFD, 0x22, 0xE7, 0xC4, 0xF8, 0x54, 0xF0, 0xC8, 0x68,
    0xF7, 0x09, 0xE7, 0xC4, 0x54, 0x0F, 0x48, 0xF7, 0x22, 0xE6, 0xFC, 0xED, 0x75, 0xF0, 0x04, 0xA4,
    0x22, 0x12, 0x06, 0x7C, 0x8F, 0x48, 0x8E, 0x47, 0x8D, 0x46, 0x8C, 0x45, 0x22, 0xE0, 0xFE, 0xA3,
    0xE0, 0xFD, 0xEE, 0xF6, 0xED, 0x08, 0xF6, 0x22, 0x13, 0xFF, 0xC3, 0xE6, 0x9F, 0xFF, 0x18, 0xE6,
    0x9E, 0xFE, 0x22, 0xE6, 0xC3, 0x13, 0xF7, 0x08, 0xE6, 0x13, 0x09, 0xF7, 0x22, 0xAD, 0x39, 0xAC,
    0x38, 0xFA, 0xF9, 0xF8, 0x12, 0x05, 0x28, 0x8F, 0x3B, 0x8E, 0x3A, 0x8D, 0x39, 0x8C, 0x38, 0xAB,
    0x37, 0xAA, 0x36, 0xA9, 0x35, 0xA8, 0x34, 0x22, 0x93, 0xFF, 0xE4, 0xFC, 0xFD, 0xFE, 0x12, 0x05,
    0x28, 0x8F, 0x37, 0x8E, 0x36, 0x8D, 0x35, 0x8C, 0x34, 0x22, 0x78, 0x84, 0xE6, 0xFE, 0x08, 0xE6,
    0xFF, 0xE4, 0x8F, 0x37, 0x8E, 0x36, 0xF5, 0x35, 0xF5, 0x34, 0x22, 0x90, 0x0E, 0x8C, 0xE4, 0x93,
    0x25, 0xE0, 0x24, 0x0A, 0xF8, 0xE6, 0xFE, 0x08, 0xE6, 0xFF, 0x22, 0xE6, 0xFE, 0x08, 0xE6, 0xFF,
    0xE4, 0x8F, 0x3B, 0x8E, 0x3A, 0xF5, 0x39, 0xF5, 0x38, 0x22, 0x78, 0x4E, 0xE6, 0xFE, 0x08, 0xE6,
    0xFF, 0x22, 0xEF, 0x25, 0xE0, 0x24, 0x4E, 0xF8, 0xE6, 0xFC, 0x08, 0xE6, 0xFD, 0x22, 0x78, 0x89,
    0xEF, 0x26, 0xF6, 0x18, 0xE4, 0x36, 0xF6, 0x22, 0x75, 0x89, 0x03, 0x75, 0xA8, 0x01, 0x75, 0xB8,
    0x04, 0x75, 0x34, 0xFF, 0x75, 0x35, 0x0E, 0x75, 0x36, 0x15, 0x75, 0x37, 0x0D, 0x12, 0x0E, 0x9A,
    0x12, 0x00, 0x09, 0x12, 0x0F, 0x16, 0x12, 0x00, 0x06, 0xD2, 0x00, 0xD2, 0x34, 0xD2, 0xAF, 0x75,
    0x34, 0xFF, 0x75, 0x35, 0x0E, 0x75, 0x36, 0x49, 0x75, 0x37, 0x03, 0x12, 0x0E, 0x9A, 0x30, 0x08,
    0x09, 0xC2, 0x34, 0x12, 0x08, 0xCB, 0xC2, 0x08, 0xD2, 0x34, 0x30, 0x0B, 0x09, 0xC2, 0x36, 0x12,
    0x02, 0x6C, 0xC2, 0x0B, 0xD2, 0x36, 0x30, 0x09, 0x09, 0xC2, 0x36, 0x12, 0x00, 0x0E, 0xC2, 0x09,
    0xD2, 0x36, 0x30, 0x0E, 0x03, 0x12, 0x06, 0xD7, 0x30, 0x35, 0xD3, 0x90, 0x30, 0x29, 0xE5, 0x1E,
    0xF0, 0xB4, 0x10, 0x05, 0x90, 0x30, 0x23, 0xE4, 0xF0, 0xC2, 0x35, 0x80, 0xC1, 0xE4, 0xF5, 0x4B,
    0x90, 0x0E, 0x7A, 0x93, 0xFF, 0xE4, 0x8F, 0x37, 0xF5, 0x36, 0xF5, 0x35, 0xF5, 0x34, 0xAF, 0x37,
    0xAE, 0x36, 0xAD, 0x35, 0xAC, 0x34, 0x90, 0x0E, 0x6A, 0x12, 0x0D, 0xF6, 0x8F, 0x37, 0x8E, 0x36,
    0x8D, 0x35, 0x8C, 0x34, 0x90, 0x0E, 0x72, 0x12, 0x06, 0x7C, 0xEF, 0x45, 0x37, 0xF5, 0x37, 0xEE,
    0x45, 0x36, 0xF5, 0x36, 0xED, 0x45, 0x35, 0xF5, 0x35, 0xEC, 0x45, 0x34, 0xF5, 0x34, 0xE4, 0xF5,
    0x22, 0xF5, 0x23, 0x85, 0x37, 0x31, 0x85, 0x36, 0x30, 0x85, 0x35, 0x2F, 0x85, 0x34, 0x2E, 0x12,
    0x0F, 0x46, 0xE4, 0xF5, 0x22, 0xF5, 0x23, 0x90, 0x0E, 0x72, 0x12, 0x0D, 0xEA, 0x12, 0x0F, 0x46,
    0xE4, 0xF5, 0x22, 0xF5, 0x23, 0x90, 0x0E, 0x6E, 0x12, 0x0D, 0xEA, 0x02, 0x0F, 0x46, 0xE5, 0x40,
    0x24, 0xF2, 0xF5, 0x37, 0xE5, 0x3F, 0x34, 0x43, 0xF5, 0x36, 0xE5, 0x3E, 0x34, 0xA2, 0xF5, 0x35,
    0xE5, 0x3D, 0x34, 0x28, 0xF5, 0x34, 0xE5, 0x37, 0xFF, 0xE4, 0xFE, 0xFD, 0xFC, 0x78, 0x18, 0x12,
    0x06, 0x69, 0x8F, 0x40, 0x8E, 0x3F, 0x8D, 0x3E, 0x8C, 0x3D, 0xE5, 0x37, 0x54, 0xA0, 0xFF, 0xE5,
    0x36, 0xFE, 0xE4, 0xFD, 0xFC, 0x78, 0x07, 0x12, 0x06, 0x56, 0x78, 0x10, 0x12, 0x0F, 0x9A, 0xE4,
    0xFF, 0xFE, 0xE5, 0x35, 0xFD, 0xE4, 0xFC, 0x78, 0x0E, 0x12, 0x06, 0x56, 0x12, 0x0F, 0x9D, 0xE4,
    0xFF, 0xFE, 0xFD, 0xE5, 0x34, 0xFC, 0x78, 0x18, 0x12, 0x06, 0x56, 0x78, 0x08, 0x12, 0x0F, 0x9A,
    0x22, 0x8F, 0x3B, 0x8E, 0x3A, 0x8D, 0x39, 0x8C, 0x38, 0x22, 0x12, 0x06, 0x7C, 0x8F, 0x31, 0x8E,
    0x30, 0x8D, 0x2F, 0x8C, 0x2E, 0x22, 0x93, 0xF9, 0xF8, 0x02, 0x06, 0x69, 0x00, 0x00, 0x00, 0x00,
    0x12, 0x01, 0x17, 0x08, 0x31, 0x15, 0x53, 0x54, 0x44, 0x20, 0x20, 0x20, 0x20, 0x20, 0x13, 0x01,
    0x10, 0x01, 0x56, 0x40, 0x1A, 0x30, 0x29, 0x7E, 0x00, 0x30, 0x04, 0x20, 0xDF, 0x30, 0x05, 0x40,
    0xBF, 0x50, 0x03, 0x00, 0xFD, 0x50, 0x27, 0x01, 0xFE, 0x60, 0x00, 0x11, 0x00, 0x3F, 0x05, 0x30,
    0x00, 0x3F, 0x06, 0x22, 0x00, 0x3F, 0x01, 0x2A, 0x00, 0x3F, 0x02, 0x00, 0x00, 0x36, 0x06, 0x07,
    0x00, 0x3F, 0x0B, 0x0F, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x30, 0x01, 0x40, 0xBF, 0x30, 0x01, 0x00,
    0xBF, 0x30, 0x29, 0x70, 0x00, 0x3A, 0x00, 0x00, 0xFF, 0x3A, 0x00, 0x00, 0xFF, 0x36, 0x03, 0x36,
    0x02, 0x41, 0x44, 0x58, 0x20, 0x18, 0x10, 0x0A, 0x04, 0x04, 0x00, 0x03, 0xFF, 0x64, 0x00, 0x00,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x04, 0x06, 0x06, 0x00, 0x03, 0x51, 0x00, 0x7A,
    0x50, 0x3C, 0x28, 0x1E, 0x10, 0x10, 0x50, 0x2D, 0x28, 0x16, 0x10, 0x10, 0x02, 0x00, 0x10, 0x0C,
    0x10, 0x04, 0x0C, 0x6E, 0x06, 0x05, 0x00, 0xA5, 0x5A, 0x00, 0xAE, 0x35, 0xAF, 0x36, 0xE4, 0xFD,
    0xED, 0xC3, 0x95, 0x37, 0x50, 0x33, 0x12, 0x0F, 0xE2, 0xE4, 0x93, 0xF5, 0x38, 0x74, 0x01, 0x93,
    0xF5, 0x39, 0x45, 0x38, 0x60, 0x23, 0x85, 0x39, 0x82, 0x85, 0x38, 0x83, 0xE0, 0xFC, 0x12, 0x0F,
    0xE2, 0x74, 0x03, 0x93, 0x52, 0x04, 0x12, 0x0F, 0xE2, 0x74, 0x02, 0x93, 0x42, 0x04, 0x85, 0x39,
    0x82, 0x85, 0x38, 0x83, 0xEC, 0xF0, 0x0D, 0x80, 0xC7, 0x22, 0x78, 0xBE, 0xE6, 0xD3, 0x08, 0xFF,
    0xE6, 0x64, 0x80, 0xF8, 0xEF, 0x64, 0x80, 0x98, 0x22, 0x93, 0xFF, 0x7E, 0x00, 0xE6, 0xFC, 0x08,
    0xE6, 0xFD, 0x12, 0x04, 0xC1, 0x78, 0xC1, 0xE6, 0xFC, 0x08, 0xE6, 0xFD, 0xD3, 0xEF, 0x9D, 0xEE,
    0x9C, 0x22, 0x78, 0xBD, 0xD3, 0xE6, 0x64, 0x80, 0x94, 0x80, 0x22, 0x25, 0xE0, 0x24, 0x0A, 0xF8,
    0xE6, 0xFE, 0x08, 0xE6, 0xFF, 0x22, 0xE5, 0x3C, 0xD3, 0x94, 0x00, 0x40, 0x0B, 0x90, 0x0E, 0x88,
    0x12, 0x0B, 0xF1, 0x90, 0x0E, 0x86, 0x80, 0x09, 0x90, 0x0E, 0x82, 0x12, 0x0B, 0xF1, 0x90, 0x0E,
    0x80, 0xE4, 0x93, 0xF5, 0x44, 0xA3, 0xE4, 0x93, 0xF5, 0x43, 0xD2, 0x06, 0x30, 0x06, 0x03, 0xD3,
    0x80, 0x01, 0xC3, 0x92, 0x0E, 0x22, 0xA2, 0xAF, 0x92, 0x32, 0xC2, 0xAF, 0xE5, 0x23, 0x45, 0x22,
    0x90, 0x0E, 0x5D, 0x60, 0x0E, 0x12, 0x0F, 0xCB, 0xE0, 0xF5, 0x2C, 0x12, 0x0F, 0xC8, 0xE0, 0xF5,
    0x2D, 0x80, 0x0C, 0x12, 0x0F, 0xCB, 0xE5, 0x30, 0xF0, 0x12, 0x0F, 0xC8, 0xE5, 0x31, 0xF0, 0xA2,
    0x32, 0x92, 0xAF, 0x22, 0xD2, 0x01, 0xC2, 0x02, 0xE4, 0xF5, 0x1F, 0xF5, 0x1E, 0xD2, 0x35, 0xD2,
    0x33, 0xD2, 0x36, 0xD2, 0x01, 0xC2, 0x02, 0xF5, 0x1F, 0xF5, 0x1E, 0xD2, 0x35, 0xD2, 0x33, 0x22,
    0xFB, 0xD3, 0xED, 0x9B, 0x74, 0x80, 0xF8, 0x6C, 0x98, 0x22, 0x12, 0x06, 0x69, 0xE5, 0x40, 0x2F,
    0xF5, 0x40, 0xE5, 0x3F, 0x3E, 0xF5, 0x3F, 0xE5, 0x3E, 0x3D, 0xF5, 0x3E, 0xE5, 0x3D, 0x3C, 0xF5,
    0x3D, 0x22, 0xC0, 0xE0, 0xC0, 0x83, 0xC0, 0x82, 0x90, 0x3F, 0x0D, 0xE0, 0xF5, 0x33, 0xE5, 0x33,
    0xF0, 0xD0, 0x82, 0xD0, 0x83, 0xD0, 0xE0, 0x32, 0x90, 0x0E, 0x5F, 0xE4, 0x93, 0xFE, 0x74, 0x01,
    0x93, 0xF5, 0x82, 0x8E, 0x83, 0x22, 0x78, 0x7F, 0xE4, 0xF6, 0xD8, 0xFD, 0x75, 0x81, 0xCD, 0x02,
    0x0C, 0x98, 0x8F, 0x82, 0x8E, 0x83, 0x75, 0xF0, 0x04, 0xED, 0x02, 0x06, 0xA5,
};

/* OV5640 Parameter structure definition */
static struct
{
    struct {
        UINT16 width;
        UINT16 height;
    } isp_input;
    struct {
        UINT16 width;
        UINT16 height;
    } pre_scaling;
    struct {
        UINT16 width;
        UINT16 height;
    } output;
} OV5640_Parameter = {0};

/*********************************************************************
 * @fn      OV5640_SCCB_GPIO_Init
 *
 * @brief   Init SCCB GPIO.
 *
 * @return  none
 */
void OV5640_SCCB_GPIO_Init(void)
{
	IIC_SCL_OUT;
	IIC_SDA_OUT;
	IIC_SCL_SET;
	IIC_SDA_SET;
}

/*********************************************************************
 * @fn      OV5640_SCCB_Start
 *
 * @brief   SCCB start signal.
 *
 * @return  none
 */
void OV5640_SCCB_Start(void)
{
	IIC_SDA_SET;
	IIC_SCL_SET;
	Delay_Us(5);
	IIC_SDA_CLR;
	Delay_Us(5);
	IIC_SCL_CLR;
}

/*********************************************************************
 * @fn      OV5640_SCCB_Stop
 *
 * @brief   SCCB stop signal.
 *
 * @return  none
 */
void OV5640_SCCB_Stop(void)
{
	IIC_SDA_CLR;
	Delay_Us(5);
	IIC_SCL_SET;
	Delay_Us(5);
	IIC_SDA_SET;
	Delay_Us(5);
}

/*********************************************************************
 * @fn      OV5640_SCCB_No_Ack
 *
 * @brief   SCCB NAK signal.
 *
 * @return  none
 */
void OV5640_SCCB_No_Ack(void)
{
	Delay_Us(5);
	IIC_SDA_SET;
	IIC_SCL_SET;
	Delay_Us(5);
	IIC_SCL_CLR;
	Delay_Us(5);
	IIC_SDA_CLR;
	Delay_Us(5);
}

/*********************************************************************
 * @fn      OV5640_SCCB_Write_Byte
 *
 * @brief   SCCB write one byte.
 *
 * @param   data - wirte data
 *
 * @return  0 - success
 *          other - error
 */
UINT8 OV5640_SCCB_Write_Byte(UINT8 data)
{
	UINT8 i,t;

	for(i=0; i<8; i++)
    {
		if(data & 0x80)
        {
			IIC_SDA_SET;
		}
		else
        {
		    IIC_SDA_CLR;
		}

		data <<= 1;
		Delay_Us(5);
		IIC_SCL_SET;
		Delay_Us(5);
		IIC_SCL_CLR;
	}

	IIC_SDA_IN;
	Delay_Us(5);
	IIC_SCL_SET;
	Delay_Us(5);

	if(SDA_IN_R)t=1;
	else t=0;

	IIC_SCL_CLR;
	IIC_SDA_OUT;

	return t;
}

/*********************************************************************
 * @fn      OV5640_SCCB_Read_Byte
 *
 * @brief   SCCB read one byte.
 *
 * @return  data
 */
UINT8 OV5640_SCCB_Read_Byte(void)
{
	UINT8 t=0, i;

	IIC_SDA_IN;

	for(i=8; i>0; i--)
    {
		Delay_Us(5);
		IIC_SCL_SET;
		t=t<<1;

		if(SDA_IN_R)t++;

		Delay_Us(5);
		IIC_SCL_CLR;
	}

	IIC_SDA_OUT;

	return t;
}

/*********************************************************************
 * @fn      OV5640_SCCB_Write_Reg
 *
 * @brief   Write camera Register
 *
 * @param   Reg_Adr - Register address
 *          Reg_Val - Register value
 *
 * @return  0 - Success
 *          other - Err
 */
UINT8 OV5640_SCCB_Write_Reg(UINT16 Reg_Adr,UINT8 Reg_Val)
{
	UINT8 t = 0;

	OV5640_SCCB_Start();
	if(OV5640_SCCB_Write_Byte((SCCB_ID << 1) | SCCB_WRITE)) t=1;
  	if(OV5640_SCCB_Write_Byte((Reg_Adr >> 8) & 0xFF)) t=1;
    if(OV5640_SCCB_Write_Byte(Reg_Adr & 0xFF)) t=1;
  	if(OV5640_SCCB_Write_Byte(Reg_Val))t=1;
  	OV5640_SCCB_Stop();
  	return t;
}

/*********************************************************************
 * @fn      OV5640_SCCB_Read_Reg
 *
 * @brief   Read camera register
 *
 * @return  Camera register value
 */
UINT8 OV5640_SCCB_Read_Reg(UINT16 Reg_Adr)
{
	UINT8 val = 0;

	OV5640_SCCB_Start();
	OV5640_SCCB_Write_Byte((SCCB_ID << 1) | SCCB_WRITE);
    OV5640_SCCB_Write_Byte((Reg_Adr >> 8) & 0xFF);
    OV5640_SCCB_Write_Byte(Reg_Adr & 0xFF);
	OV5640_SCCB_Stop();

	OV5640_SCCB_Start();
	OV5640_SCCB_Write_Byte((SCCB_ID << 1) | SCCB_READ);
  	val = OV5640_SCCB_Read_Byte();
  	OV5640_SCCB_No_Ack();
  	OV5640_SCCB_Stop();

  	return val;
}

/*********************************************************************
 * @fn      OV5640_Read_ChipID
 *
 * @brief   Read the ov5640 chip ID.
 *
 * @return  The ov5640 chip ID.
 */
UINT16 OV5640_Read_ChipID(void)
{
    UINT16 id;
    
    id = OV5640_SCCB_Read_Reg(0x300A) << 8;
    id |= OV5640_SCCB_Read_Reg(0x300B);
    
    return id;
}

/*********************************************************************
 * @fn      OV5640_Reg_Init
 *
 * @brief   Initialize the ov5640 register configuration.
 *
 * @return  none
 */
void OV5640_Reg_Init(void)
{
    UINT32 i;
    
    for(i=0; i<sizeof(OV5640_InitRegTbl)/sizeof(OV5640_InitRegTbl[0]); i++)
    {
        OV5640_SCCB_Write_Reg(OV5640_InitRegTbl[i].reg, OV5640_InitRegTbl[i].data);
    }
}

/*********************************************************************
 * @fn      OV5640_SoftwareRST
 *
 * @brief   ov5640 software reset.
 *
 * @return  none
 */
void OV5640_SoftwareRST(void)
{
    UINT8 reg3103;
    
    reg3103 = OV5640_SCCB_Read_Reg(0x3103);
    reg3103 &= ~(0x01 << 1);
    OV5640_SCCB_Write_Reg(0x3103, reg3103);
    OV5640_SCCB_Write_Reg(0x3008, 0x82);
    Delay_Ms(10);
}

/*********************************************************************
 * @fn      OV5640_HardwareRST
 *
 * @brief   ov5640 hardware reset.
 *
 * @return  none
 */
void OV5640_HardwareRST(void)
{
    OV_RESET_CLR;
    Delay_Ms(20);
    OV_RESET_SET;
    Delay_Ms(20);
}

/*********************************************************************
 * @fn      OV5640_Exit_PowerDownMode
 *
 * @brief   ov5640 exits the power-down mode.
 *
 * @return  none
 */
void OV5640_Exit_PowerDownMode(void)
{
    OV_RESET_CLR;
    Delay_Ms(20);
    OV_PWDN_CLR;
    Delay_Ms(5);
    OV_RESET_SET;
    Delay_Ms(20);
}

/*********************************************************************
 * @fn      OV5640_Init
 *
 * @brief   Initialize the ov5640 module.
 *
 * @return  none
 */
UINT8 OV5640_Init(void)
{
    UINT16 id;
    
    OV5640_DVP_GPIO_Init();

    OV_RESET_SET;
    OV_PWDN_SET;

    OV5640_Exit_PowerDownMode();
    OV5640_HardwareRST();
    OV5640_SCCB_GPIO_Init();
    OV5640_SoftwareRST();
    
    id = OV5640_Read_ChipID();
    if(id != OV5640_CHIP_ID)
    {
        return OV5640_ERROR;
    }
    
    OV5640_Reg_Init();

    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_ISP_InputSize_Get
 *
 * @brief   Get the input window size of the ov5640 ISP.
 *
 * @return  none
 */
void OV5640_ISP_InputSize_Get(void)
{
    UINT8 reg3800;
    UINT8 reg3801;
    UINT8 reg3802;
    UINT8 reg3803;
    UINT8 reg3804;
    UINT8 reg3805;
    UINT8 reg3806;
    UINT8 reg3807;
    UINT16 x_addr_start;
    UINT16 y_addr_start;
    UINT16 x_addr_end;
    UINT16 y_addr_end;
    
    Delay_Ms(100);
    
    reg3800 = OV5640_SCCB_Read_Reg(0x3800);
    reg3801 = OV5640_SCCB_Read_Reg(0x3801);
    reg3802 = OV5640_SCCB_Read_Reg(0x3802);
    reg3803 = OV5640_SCCB_Read_Reg(0x3803);
    reg3804 = OV5640_SCCB_Read_Reg(0x3804);
    reg3805 = OV5640_SCCB_Read_Reg(0x3805);
    reg3806 = OV5640_SCCB_Read_Reg(0x3806);
    reg3807 = OV5640_SCCB_Read_Reg(0x3807);
    
    x_addr_start = (uint16_t)((reg3800 & 0x0F) << 8) | reg3801;
    y_addr_start = (uint16_t)((reg3802 & 0x07) << 8) | reg3803;
    x_addr_end = (uint16_t)((reg3804 & 0x0F) << 8) | reg3805;
    y_addr_end = (uint16_t)((reg3806 & 0x07) << 8) | reg3807;
    
    OV5640_Parameter.isp_input.width = x_addr_end - x_addr_start;
    OV5640_Parameter.isp_input.height = y_addr_end - y_addr_start;
}

/*********************************************************************
 * @fn      OV5640_PreScalingSize_Get
 *
 * @brief   Get the pre-scaled window size of ov5640.
 *
 * @return  none
 */
void OV5640_PreScalingSize_Get(void)
{
    UINT8 reg3810;
    UINT8 reg3811;
    UINT8 reg3812;
    UINT8 reg3813;
    UINT16 x_offset;
    UINT16 y_offset;
    
    Delay_Ms(100);
    
    reg3810 = OV5640_SCCB_Read_Reg(0x3810);
    reg3811 = OV5640_SCCB_Read_Reg(0x3811);
    reg3812 = OV5640_SCCB_Read_Reg(0x3812);
    reg3813 = OV5640_SCCB_Read_Reg(0x3813);
    
    x_offset = (UINT16)((reg3810 & 0x0F) << 8) | reg3811;
    y_offset = (UINT16)((reg3812 & 0x07) << 8) | reg3813;
    
    OV5640_ISP_InputSize_Get();
    
    OV5640_Parameter.pre_scaling.width = OV5640_Parameter.isp_input.width - (x_offset << 1);
    OV5640_Parameter.pre_scaling.height = OV5640_Parameter.isp_input.height - (y_offset << 1);
}

/*********************************************************************
 * @fn      OV5640_OutputSize_Get
 *
 * @brief   Get the output image size of ov5640.
 *
 * @return  none
 */
void OV5640_OutputSize_Get(void)
{
    UINT8 reg3808;
    UINT8 reg3809;
    UINT8 reg380A;
    UINT8 reg380B;
    UINT16 x_output_size;
    UINT16 y_output_size;
    
    Delay_Ms(100);
    
    reg3808 = OV5640_SCCB_Read_Reg(0x3808);
    reg3809 = OV5640_SCCB_Read_Reg(0x3809);
    reg380A = OV5640_SCCB_Read_Reg(0x380A);
    reg380B = OV5640_SCCB_Read_Reg(0x380B);
    
    x_output_size = (uint16_t)((reg3808 & 0x0F) << 8) | reg3809;
    y_output_size = (uint16_t)((reg380A & 0x07) << 8) | reg380B;
    
    OV5640_Parameter.output.width = x_output_size;
    OV5640_Parameter.output.height = y_output_size;
}

/*********************************************************************
 * @fn      OV5640_AutoFocus_Init
 *
 * @brief   Initialize the ov5640 autofocus.
 *
 * @return  success or error
 */
UINT8 OV5640_AutoFocus_Init(void)
{
    UINT32 i;
    UINT16 addr;
    UINT8  reg3029 = 0;
    UINT16 timeout = 0;
    
    OV5640_SCCB_Write_Reg(0x3000, 0x20);
    
    for(addr=OV5640_FW_DOWNLOAD_ADDR, i=0; i<sizeof(OV5640_AutoFocusFirmware);addr++, i++)
    {
        OV5640_SCCB_Write_Reg(addr, OV5640_AutoFocusFirmware[i]);
    }
    
    OV5640_SCCB_Write_Reg(0x3022, 0x00);
    OV5640_SCCB_Write_Reg(0x3023, 0x00);
    OV5640_SCCB_Write_Reg(0x3024, 0x00);
    OV5640_SCCB_Write_Reg(0x3025, 0x00);
    OV5640_SCCB_Write_Reg(0x3026, 0x00);
    OV5640_SCCB_Write_Reg(0x3027, 0x00);
    OV5640_SCCB_Write_Reg(0x3028, 0x00);
    OV5640_SCCB_Write_Reg(0x3029, 0x7F);
    OV5640_SCCB_Write_Reg(0x3000, 0x00);
    
    while((reg3029 != 0x70) && (timeout < OV5640_TIMEOUT))
    {
        Delay_Ms(1);
        reg3029 = OV5640_SCCB_Read_Reg(0x3029);
        timeout++;
    }
    
    if(reg3029 != 0x70)
    {
        return OV5640_ERROR;
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_AutoFocus_Single
 *
 * @brief   the ov5640 autofocus single.
 *
 * @return  success or error
 */
UINT8 OV5640_AutoFocus_Single(void)
{
    UINT8 reg3029 = 0;
    UINT16 timeout = 0;
    
    OV5640_SCCB_Write_Reg(0x3022, 0x03);
    
    while((reg3029 != 0x10) && (timeout < OV5640_TIMEOUT))
    {
        Delay_Ms(1);
        reg3029 = OV5640_SCCB_Read_Reg(0x3029);
        timeout++;
    }
    
    if(reg3029 != 0x10)
    {
        return OV5640_ERROR;
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_AutoFocus_Continuous
 *
 * @brief   the ov5640 autofocus continuous.
 *
 * @return  success or error
 */
UINT8 OV5640_AutoFocus_Continuous(void)
{
    UINT8 reg3023 = ~0;
    UINT16 timeout = 0;
    
    OV5640_SCCB_Write_Reg(0x3023, 0x01);
    OV5640_SCCB_Write_Reg(0x3022, 0x08);
    
    while((reg3023 != 0x00) && (timeout < OV5640_TIMEOUT))
    {
        Delay_Ms(1);
        reg3023 = OV5640_SCCB_Read_Reg(0x3023);
        timeout++;
    }
    
    if(reg3023 != 0x00)
    {
        return OV5640_ERROR;
    }
    
    reg3023 = ~0;
    timeout = 0;
    
    OV5640_SCCB_Write_Reg(0x3023, 0x01);
    OV5640_SCCB_Write_Reg(0x3022, 0x04);
    
    while((reg3023 != 0x00) && (timeout < OV5640_TIMEOUT))
    {
        Delay_Ms(1);
        reg3023 = OV5640_SCCB_Read_Reg(0x3023);
        timeout++;
    }
    
    if(reg3023 != 0x00)
    {
        return OV5640_ERROR;
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_FlashLamp_On
 *
 * @brief   Turn on the ov5640 flash lamp.
 *
 * @return  success or error
 */
void OV5640_FlashLamp_On(void)
{
    OV5640_SCCB_Write_Reg(0x3016, 0x02);
    OV5640_SCCB_Write_Reg(0x301C, 0x02);
    OV5640_SCCB_Write_Reg(0x3019, 0x02);
}

/*********************************************************************
 * @fn      OV5640_FlashLamp_Off
 *
 * @brief   Turn off the ov5640 flash lamp.
 *
 * @return  success or error
 */
void OV5640_FlashLamp_Off(void)
{
    OV5640_SCCB_Write_Reg(0x3016, 0x02);
    OV5640_SCCB_Write_Reg(0x301C, 0x02);
    OV5640_SCCB_Write_Reg(0x3019, 0x00);
}

/*********************************************************************
 * @fn      OV5640_Contrast_Config
 *
 * @brief   Configure the contrast of the ov5640.
 *
 * @param   contrast - the contrast
 *               OV5640_Contrast_0 -  +4
 *               OV5640_Contrast_1 -  +3
 *               OV5640_Contrast_2 -  +2
 *               OV5640_Contrast_3 -  +1
 *               OV5640_Contrast_4 -  0
 *               OV5640_Contrast_5 -  -1
 *               OV5640_Contrast_6 -  -2
 *               OV5640_Contrast_7 -  -3
 *               OV5640_Contrast_8 -  -4
 *
 * @return  success or error
 */
UINT8 OV5640_Contrast_Config(OV5640_Contrast_t contrast)
{
    switch (contrast)
    {
        case OV5640_Contrast_0:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5586, 0x30);
            OV5640_SCCB_Write_Reg(0x5585, 0x30);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_Contrast_1:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5586, 0x2C);
            OV5640_SCCB_Write_Reg(0x5585, 0x2C);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_Contrast_2:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5586, 0x28);
            OV5640_SCCB_Write_Reg(0x5585, 0x28);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_Contrast_3:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5586, 0x24);
            OV5640_SCCB_Write_Reg(0x5585, 0x24);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_Contrast_4:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5586, 0x20);
            OV5640_SCCB_Write_Reg(0x5585, 0x20);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_Contrast_5:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5586, 0x1C);
            OV5640_SCCB_Write_Reg(0x5585, 0x1C);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_Contrast_6:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5586, 0x18);
            OV5640_SCCB_Write_Reg(0x5585, 0x18);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_Contrast_7:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5586, 0x14);
            OV5640_SCCB_Write_Reg(0x5585, 0x14);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_Contrast_8:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5586, 0x10);
            OV5640_SCCB_Write_Reg(0x5585, 0x10);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_Brightness_Config
 *
 * @brief   Configure the brightness of the ov5640.
 *
 * @param   brightness - the color saturation
 *               OV5640_Brightness_0 -  +4
 *               OV5640_Brightness_1 -  +3
 *               OV5640_Brightness_2 -  +2
 *               OV5640_Brightness_3 -  +1
 *               OV5640_Brightness_4 -  0
 *               OV5640_Brightness_5 -  -1
 *               OV5640_Brightness_6 -  -2
 *               OV5640_Brightness_7 -  -3
 *               OV5640_Brightness_8 -  -4
 *
 * @return  success or error
 */
UINT8 OV5640_Brightness_Config(OV5640_Brightness_t brightness)
{
    switch (brightness)
    {
        case OV5640_Brightness_0:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5587, 0x40);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5588, 0x01);
            break;
        }
        case OV5640_Brightness_1:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5587, 0x30);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5588, 0x01);
            break;
        }
        case OV5640_Brightness_2:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5587, 0x20);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5588, 0x01);
            break;
        }
        case OV5640_Brightness_3:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5587, 0x10);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5588, 0x01);
            break;
        }
        case OV5640_Brightness_4:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5587, 0x00);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5588, 0x01);
            break;
        }
        case OV5640_Brightness_5:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5587, 0x10);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5588, 0x09);
            break;
        }
        case OV5640_Brightness_6:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5587, 0x20);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5588, 0x09);
            break;
        }
        case OV5640_Brightness_7:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5587, 0x30);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5588, 0x09);
            break;
        }
        case OV5640_Brightness_8:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5587, 0x40);
            OV5640_SCCB_Write_Reg(0x5580, 0x04);
            OV5640_SCCB_Write_Reg(0x5588, 0x09);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_Sharpness_Config
 *
 * @brief   Configure the sharpness of the ov5640.
 *
 * @param   sharpness - the sharpness
 *               OV5640_Sharpness_0 -  0
 *               OV5640_Sharpness_1 -  1
 *               OV5640_Sharpness_2 -  2
 *               OV5640_Sharpness_3 -  3
 *               OV5640_Sharpness_4 -  4
 *               OV5640_Sharpness_5 -  5
 *               OV5640_Sharpness_6 -  6
 *               OV5640_Sharpness_7 -  7
 *               OV5640_Sharpness_8 -  8
 *               OV5640_Sharpness_9 -  auto
 *
 * @return  success or error
 */
UINT8 OV5640_Sharpness_Config(OV5640_Sharpness_t sharpness)
{
    switch (sharpness)
    {
        case OV5640_Sharpness_0:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x65);
            OV5640_SCCB_Write_Reg(0x5302, 0x00);
            break;
        }
        case OV5640_Sharpness_1:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x65);
            OV5640_SCCB_Write_Reg(0x5302, 0x02);
            break;
        }
        case OV5640_Sharpness_2:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x65);
            OV5640_SCCB_Write_Reg(0x5302, 0x04);
            break;
        }
        case OV5640_Sharpness_3:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x65);
            OV5640_SCCB_Write_Reg(0x5302, 0x08);
            break;
        }
        case OV5640_Sharpness_4:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x65);
            OV5640_SCCB_Write_Reg(0x5302, 0x0C);
            break;
        }
        case OV5640_Sharpness_5:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x65);
            OV5640_SCCB_Write_Reg(0x5302, 0x10);
            break;
        }
        case OV5640_Sharpness_6:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x65);
            OV5640_SCCB_Write_Reg(0x5302, 0x14);
            break;
        }
        case OV5640_Sharpness_7:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x65);
            OV5640_SCCB_Write_Reg(0x5302, 0x18);
            break;
        }
        case OV5640_Sharpness_8:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x65);
            OV5640_SCCB_Write_Reg(0x5302, 0x20);
            break;
        }
        case OV5640_Sharpness_9:
        {
            OV5640_SCCB_Write_Reg(0x5308, 0x25);
            OV5640_SCCB_Write_Reg(0x5300, 0x08);
            OV5640_SCCB_Write_Reg(0x5301, 0x30);
            OV5640_SCCB_Write_Reg(0x5302, 0x10);
            OV5640_SCCB_Write_Reg(0x5303, 0x00);
            OV5640_SCCB_Write_Reg(0x5309, 0x08);
            OV5640_SCCB_Write_Reg(0x530A, 0x30);
            OV5640_SCCB_Write_Reg(0x530B, 0x04);
            OV5640_SCCB_Write_Reg(0x530C, 0x06);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_Hue_Config
 *
 * @brief   Configure the hue of the ov5640.
 *
 * @param   hue - the hue
 *               OV5640_Hue_0 -  -180
 *               OV5640_Hue_1 -  -150
 *               OV5640_Hue_2 -  -120
 *               OV5640_Hue_3 -  -90
 *               OV5640_Hue_4 -  -60
 *               OV5640_Hue_5 -  -30
 *               OV5640_Hue_6 -  0
 *               OV5640_Hue_7 -  +30
 *               OV5640_Hue_8 -  +60
 *               OV5640_Hue_9 -  +90
 *               OV5640_Hue_10 -  +120
 *               OV5640_Hue_11 -  +150
 *
 * @return  success or error
 */
UINT8 OV5640_Hue_Config(OV5640_Hue_t hue)
{
    switch (hue)
    {
        case OV5640_Hue_0:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x80);
            OV5640_SCCB_Write_Reg(0x5582, 0x00);
            OV5640_SCCB_Write_Reg(0x5588, 0x32);
            break;
        }
        case OV5640_Hue_1:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x6F);
            OV5640_SCCB_Write_Reg(0x5582, 0x40);
            OV5640_SCCB_Write_Reg(0x5588, 0x32);
            break;
        }
        case OV5640_Hue_2:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x40);
            OV5640_SCCB_Write_Reg(0x5582, 0x6F);
            OV5640_SCCB_Write_Reg(0x5588, 0x32);
            break;
        }
        case OV5640_Hue_3:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x00);
            OV5640_SCCB_Write_Reg(0x5582, 0x80);
            OV5640_SCCB_Write_Reg(0x5588, 0x02);
            break;
        }
        case OV5640_Hue_4:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x40);
            OV5640_SCCB_Write_Reg(0x5582, 0x6F);
            OV5640_SCCB_Write_Reg(0x5588, 0x02);
            break;
        }
        case OV5640_Hue_5:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x6F);
            OV5640_SCCB_Write_Reg(0x5582, 0x40);
            OV5640_SCCB_Write_Reg(0x5588, 0x02);
            break;
        }
        case OV5640_Hue_6:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x80);
            OV5640_SCCB_Write_Reg(0x5582, 0x00);
            OV5640_SCCB_Write_Reg(0x5588, 0x01);
            break;
        }
        case OV5640_Hue_7:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x6F);
            OV5640_SCCB_Write_Reg(0x5582, 0x40);
            OV5640_SCCB_Write_Reg(0x5588, 0x01);
            break;
        }
        case OV5640_Hue_8:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x40);
            OV5640_SCCB_Write_Reg(0x5582, 0x6F);
            OV5640_SCCB_Write_Reg(0x5588, 0x01);
            break;
        }
        case OV5640_Hue_9:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x00);
            OV5640_SCCB_Write_Reg(0x5582, 0x80);
            OV5640_SCCB_Write_Reg(0x5588, 0x31);
            break;
        }
        case OV5640_Hue_10:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x40);
            OV5640_SCCB_Write_Reg(0x5582, 0x6F);
            OV5640_SCCB_Write_Reg(0x5588, 0x31);
            break;
        }
        case OV5640_Hue_11:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x01);
            OV5640_SCCB_Write_Reg(0x5581, 0x6F);
            OV5640_SCCB_Write_Reg(0x5582, 0x40);
            OV5640_SCCB_Write_Reg(0x5588, 0x31);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_Exposure_Config
 *
 * @brief   Configure the exposure of the ov5640.
 *
 * @param   exposure - the exposure
 *               OV5640_Exposure_0 -  EV -1.7
 *               OV5640_Exposure_1 -  EV -1.3
 *               OV5640_Exposure_2 -  EV -1.0
 *               OV5640_Exposure_3 -  EV -0.7
 *               OV5640_Exposure_4 -  EV -0.3
 *               OV5640_Exposure_5 -  EV 0
 *               OV5640_Exposure_6 -  EV +0.3
 *               OV5640_Exposure_7 -  EV +0.7
 *               OV5640_Exposure_8 -  EV +1.0
 *               OV5640_Exposure_9 -  EV +1.3
 *               OV5640_Exposure_10 - EV +1.7
 *
 * @return  success or error
 */
UINT8 OV5640_Exposure_Config(OV5640_Exposure_t exposure)
{
    switch (exposure)
    {
        case OV5640_Exposure_0:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x10);
            OV5640_SCCB_Write_Reg(0x3A10, 0x08);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x10);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x08);
            OV5640_SCCB_Write_Reg(0x3A11, 0x20);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x10);
            break;
        }
        case OV5640_Exposure_1:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x18);
            OV5640_SCCB_Write_Reg(0x3A10, 0x10);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x18);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x10);
            OV5640_SCCB_Write_Reg(0x3A11, 0x30);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x10);
            break;
        }
        case OV5640_Exposure_2:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x20);
            OV5640_SCCB_Write_Reg(0x3A10, 0x18);
            OV5640_SCCB_Write_Reg(0x3A11, 0x41);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x20);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x18);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x10);
            break;
        }
        case OV5640_Exposure_3:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x28);
            OV5640_SCCB_Write_Reg(0x3A10, 0x20);
            OV5640_SCCB_Write_Reg(0x3A11, 0x51);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x28);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x20);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x10);
            break;
        }
        case OV5640_Exposure_4:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x30);
            OV5640_SCCB_Write_Reg(0x3A10, 0x28);
            OV5640_SCCB_Write_Reg(0x3A11, 0x61);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x30);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x28);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x10);
            break;
        }
        case OV5640_Exposure_5:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x38);
            OV5640_SCCB_Write_Reg(0x3A10, 0x30);
            OV5640_SCCB_Write_Reg(0x3A11, 0x61);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x38);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x30);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x10);
            break;
        }
        case OV5640_Exposure_6:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x40);
            OV5640_SCCB_Write_Reg(0x3A10, 0x38);
            OV5640_SCCB_Write_Reg(0x3A11, 0x71);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x40);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x38);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x10);
            break;
        }
        case OV5640_Exposure_7:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x48);
            OV5640_SCCB_Write_Reg(0x3A10, 0x40);
            OV5640_SCCB_Write_Reg(0x3A11, 0x80);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x48);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x40);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x20);
            break;
        }
        case OV5640_Exposure_8:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x50);
            OV5640_SCCB_Write_Reg(0x3A10, 0x48);
            OV5640_SCCB_Write_Reg(0x3A11, 0x90);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x50);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x48);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x20);
            break;
        }
        case OV5640_Exposure_9:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x58);
            OV5640_SCCB_Write_Reg(0x3A10, 0x50);
            OV5640_SCCB_Write_Reg(0x3A11, 0x91);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x58);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x50);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x20);
            break;
        }
        case OV5640_Exposure_10:
        {
            OV5640_SCCB_Write_Reg(0x3A0F, 0x60);
            OV5640_SCCB_Write_Reg(0x3A10, 0x58);
            OV5640_SCCB_Write_Reg(0x3A11, 0xA0);
            OV5640_SCCB_Write_Reg(0x3A1B, 0x60);
            OV5640_SCCB_Write_Reg(0x3A1E, 0x58);
            OV5640_SCCB_Write_Reg(0x3A1F, 0x20);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_ColorSaturation_Config
 *
 * @brief   Configure the color saturation of the ov5640.
 *
 * @param   saturation - the color saturation
 *               OV5640_ColorSaturation_0 -  +4
 *               OV5640_ColorSaturation_1 -  +3
 *               OV5640_ColorSaturation_2 -  +2
 *               OV5640_ColorSaturation_3 -  +1
 *               OV5640_ColorSaturation_4 -  0
 *               OV5640_ColorSaturation_5 -  -1
 *               OV5640_ColorSaturation_6 -  -2
 *               OV5640_ColorSaturation_7 -  -3
 *               OV5640_ColorSaturation_8 -  -4
 *
 * @return  success or error
 */
UINT8 OV5640_ColorSaturation_Config(OV5640_ColorSaturation_t saturation)
{
    switch (saturation)
    {
        case OV5640_ColorSaturation_0:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5583, 0x80);
            OV5640_SCCB_Write_Reg(0x5584, 0x80);
            OV5640_SCCB_Write_Reg(0x5580, 0x02);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_ColorSaturation_1:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5583, 0x70);
            OV5640_SCCB_Write_Reg(0x5584, 0x70);
            OV5640_SCCB_Write_Reg(0x5580, 0x02);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_ColorSaturation_2:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5583, 0x60);
            OV5640_SCCB_Write_Reg(0x5584, 0x60);
            OV5640_SCCB_Write_Reg(0x5580, 0x02);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_ColorSaturation_3:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5583, 0x50);
            OV5640_SCCB_Write_Reg(0x5584, 0x50);
            OV5640_SCCB_Write_Reg(0x5580, 0x02);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_ColorSaturation_4:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5583, 0x40);
            OV5640_SCCB_Write_Reg(0x5584, 0x40);
            OV5640_SCCB_Write_Reg(0x5580, 0x02);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_ColorSaturation_5:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5583, 0x30);
            OV5640_SCCB_Write_Reg(0x5584, 0x30);
            OV5640_SCCB_Write_Reg(0x5580, 0x02);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_ColorSaturation_6:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5583, 0x20);
            OV5640_SCCB_Write_Reg(0x5584, 0x20);
            OV5640_SCCB_Write_Reg(0x5580, 0x02);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_ColorSaturation_7:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5583, 0x10);
            OV5640_SCCB_Write_Reg(0x5584, 0x10);
            OV5640_SCCB_Write_Reg(0x5580, 0x02);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        case OV5640_ColorSaturation_8:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5583, 0x00);
            OV5640_SCCB_Write_Reg(0x5584, 0x00);
            OV5640_SCCB_Write_Reg(0x5580, 0x02);
            OV5640_SCCB_Write_Reg(0x5588, 0x41);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_LightMode_Config
 *
 * @brief   Configure the lighting mode of the ov5640.
 *
 * @param   mode - light mode
 *               OV5640_LightMode_AdvancedAWB
 *               OV5640_LightMode_SimpleAWB
 *               OV5640_LightMode_Sunny
 *               OV5640_LightMode_Auto
 *               OV5640_LightMode_CWF
 *               OV5640_LightMode_Cloudy
 *
 * @return  success or error
 */
UINT8 OV5640_LightMode_Config(OV5640_LightMode_t mode)
{
    switch (mode)
    {
        case OV5640_LightMode_AdvancedAWB:
        {
            OV5640_SCCB_Write_Reg(0x3406, 0x00);
            OV5640_SCCB_Write_Reg(0x5192, 0x04);
            OV5640_SCCB_Write_Reg(0x5191, 0xF8);
            OV5640_SCCB_Write_Reg(0x5193, 0x70);
            OV5640_SCCB_Write_Reg(0x5194, 0xF0);
            OV5640_SCCB_Write_Reg(0x5195, 0xF0);
            OV5640_SCCB_Write_Reg(0x518D, 0x3D);
            OV5640_SCCB_Write_Reg(0x518F, 0x54);
            OV5640_SCCB_Write_Reg(0x518E, 0x3D);
            OV5640_SCCB_Write_Reg(0x5190, 0x54);
            OV5640_SCCB_Write_Reg(0x518B, 0xA8);
            OV5640_SCCB_Write_Reg(0x518C, 0xA8);
            OV5640_SCCB_Write_Reg(0x5187, 0x18);
            OV5640_SCCB_Write_Reg(0x5188, 0x18);
            OV5640_SCCB_Write_Reg(0x5189, 0x6E);
            OV5640_SCCB_Write_Reg(0x518A, 0x68);
            OV5640_SCCB_Write_Reg(0x5186, 0x1C);
            OV5640_SCCB_Write_Reg(0x5181, 0x50);
            OV5640_SCCB_Write_Reg(0x5184, 0x25);
            OV5640_SCCB_Write_Reg(0x5182, 0x11);
            OV5640_SCCB_Write_Reg(0x5183, 0x14);
            OV5640_SCCB_Write_Reg(0x5184, 0x25);
            OV5640_SCCB_Write_Reg(0x5185, 0x24);
            break;
        }
        case OV5640_LightMode_SimpleAWB:
        {
            OV5640_SCCB_Write_Reg(0x3406, 0x00);
            OV5640_SCCB_Write_Reg(0x5183, 0x94);
            OV5640_SCCB_Write_Reg(0x5191, 0xFF);
            OV5640_SCCB_Write_Reg(0x5192, 0x00);
            break;
        }
        case OV5640_LightMode_Sunny:
        {
            OV5640_SCCB_Write_Reg(0x3406, 0x01);
            OV5640_SCCB_Write_Reg(0x3400, 0x06);
            OV5640_SCCB_Write_Reg(0x3401, 0x1C);
            OV5640_SCCB_Write_Reg(0x3402, 0x04);
            OV5640_SCCB_Write_Reg(0x3403, 0x00);
            OV5640_SCCB_Write_Reg(0x3404, 0x04);
            OV5640_SCCB_Write_Reg(0x3405, 0xF3);
            break;
        }
        case OV5640_LightMode_Auto:
        {
            OV5640_SCCB_Write_Reg(0x3406, 0x01);
            OV5640_SCCB_Write_Reg(0x3400, 0x04);
            OV5640_SCCB_Write_Reg(0x3401, 0x10);
            OV5640_SCCB_Write_Reg(0x3402, 0x04);
            OV5640_SCCB_Write_Reg(0x3403, 0x00);
            OV5640_SCCB_Write_Reg(0x3404, 0x08);
            OV5640_SCCB_Write_Reg(0x3405, 0xB6);
            break;
        }
        case OV5640_LightMode_CWF:
        {
            OV5640_SCCB_Write_Reg(0x3406, 0x01);
            OV5640_SCCB_Write_Reg(0x3400, 0x05);
            OV5640_SCCB_Write_Reg(0x3401, 0x48);
            OV5640_SCCB_Write_Reg(0x3402, 0x04);
            OV5640_SCCB_Write_Reg(0x3403, 0x00);
            OV5640_SCCB_Write_Reg(0x3404, 0x07);
            OV5640_SCCB_Write_Reg(0x3405, 0xCF);
            break;
        }
        case OV5640_LightMode_Cloudy:
        {
            OV5640_SCCB_Write_Reg(0x3406, 0x01);
            OV5640_SCCB_Write_Reg(0x3400, 0x06);
            OV5640_SCCB_Write_Reg(0x3401, 0x48);
            OV5640_SCCB_Write_Reg(0x3402, 0x04);
            OV5640_SCCB_Write_Reg(0x3403, 0x00);
            OV5640_SCCB_Write_Reg(0x3404, 0x04);
            OV5640_SCCB_Write_Reg(0x3405, 0xD3);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_SpecialEffect_Config
 *
 * @brief   Configure the special effect of ov5640.
 *
 * @param   spe - the special effect
 *               OV5640_SpecialEffect_Normal
 *               OV5640_SpecialEffect_BW
 *               OV5640_SpecialEffect_Bluish
 *               OV5640_SpecialEffect_Sepia
 *               OV5640_SpecialEffect_Reddish
 *               OV5640_SpecialEffect_Greenish
 *               OV5640_SpecialEffect_Negative
 *
 * @return  success or error
 */
 
UINT8 OV5640_SpecialEffect_Config(OV5640_SpecialEffect_t spe)
{
    switch (spe)
    {
        case OV5640_SpecialEffect_Normal:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0x7F);
            OV5640_SCCB_Write_Reg(0x5580, 0x00);
            break;
        }
        case OV5640_SpecialEffect_BW:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x18);
            OV5640_SCCB_Write_Reg(0x5583, 0x80);
            OV5640_SCCB_Write_Reg(0x5584, 0x80);
            break;
        }
        case OV5640_SpecialEffect_Bluish:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x18);
            OV5640_SCCB_Write_Reg(0x5583, 0xA0);
            OV5640_SCCB_Write_Reg(0x5584, 0x40);
            break;
        }
        case OV5640_SpecialEffect_Sepia:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x18);
            OV5640_SCCB_Write_Reg(0x5583, 0x40);
            OV5640_SCCB_Write_Reg(0x5584, 0xA0);
            break;
        }
        case OV5640_SpecialEffect_Reddish:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x18);
            OV5640_SCCB_Write_Reg(0x5583, 0x80);
            OV5640_SCCB_Write_Reg(0x5584, 0xC0);
            break;
        }
        case OV5640_SpecialEffect_Greenish:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x18);
            OV5640_SCCB_Write_Reg(0x5583, 0x60);
            OV5640_SCCB_Write_Reg(0x5584, 0x60);
            break;
        }
        case OV5640_SpecialEffect_Negative:
        {
            OV5640_SCCB_Write_Reg(0x5001, 0xFF);
            OV5640_SCCB_Write_Reg(0x5580, 0x40);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_MirrorInversion_Config
 *
 * @brief   Configure the mirror\inversion of the ov5640.
 *
 * @param   mirror_inver - select mirror\inversion
 *               OV5640_MirrorInversion_0 -  mirror
 *               OV5640_MirrorInversion_1 -  inversion
 *               OV5640_MirrorInversion_2 -  mirror and inversion
 *               OV5640_MirrorInversion_3 -  normal
 *
 * @return  success or error
 */
UINT8 OV5640_MirrorInversion_Config(OV5640_MirrorInversion_t mirror_inver)
{
    UINT8 reg3820;
    UINT8 reg3821;
    
    switch (mirror_inver)
    {
        case OV5640_MirrorInversion_0:
        {
            reg3820 = OV5640_SCCB_Read_Reg(0x3820);
            reg3820 = reg3820 & 0xF9;
            reg3820 = reg3820 | 0x00;
            OV5640_SCCB_Write_Reg(0x3820, reg3820);
            reg3821 = OV5640_SCCB_Read_Reg(0x3821);
            reg3821 = reg3821 & 0xF9;
            reg3821 = reg3821 | 0x06;
            OV5640_SCCB_Write_Reg(0x3821, reg3821);
            break;
        }
        case OV5640_MirrorInversion_1:
        {
            reg3820 = OV5640_SCCB_Read_Reg(0x3820);
            reg3820 = reg3820 & 0xF9;
            reg3820 = reg3820 | 0x06;
            OV5640_SCCB_Write_Reg(0x3820, reg3820);
            reg3821 = OV5640_SCCB_Read_Reg(0x3821);
            reg3821 = reg3821 & 0xF9;
            reg3821 = reg3821 | 0x00;
            OV5640_SCCB_Write_Reg(0x3821, reg3821);
            break;
        }
        case OV5640_MirrorInversion_2:
        {
            reg3820 = OV5640_SCCB_Read_Reg(0x3820);
            reg3820 = reg3820 & 0xF9;
            reg3820 = reg3820 | 0x06;
            OV5640_SCCB_Write_Reg(0x3820, reg3820);
            reg3821 = OV5640_SCCB_Read_Reg(0x3821);
            reg3821 = reg3821 & 0xF9;
            reg3821 = reg3821 | 0x06;
            OV5640_SCCB_Write_Reg(0x3821, reg3821);
            break;
        }
        case OV5640_MirrorInversion_3:
        {
            reg3820 = OV5640_SCCB_Read_Reg(0x3820);
            reg3820 = reg3820 & 0xF9;
            reg3820 = reg3820 | 0x00;
            OV5640_SCCB_Write_Reg(0x3820, reg3820);
            reg3821 = OV5640_SCCB_Read_Reg(0x3821);
            reg3821 = reg3821 & 0xF9;
            reg3821 = reg3821 | 0x00;
            OV5640_SCCB_Write_Reg(0x3821, reg3821);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_TestPattern_Config
 *
 * @brief   Configure the test pattern of the ov5640.
 *
 * @param   pattern - the test pattern
 *               OV5640_TestPattern_Off - off
 *               OV5640_TestPattern_ColorBar - color bar
 *               OV5640_TestPattern_ColorSquare -  color square
 *
 * @return  success or error
 */
UINT8 OV5640_TestPattern_Config(OV5640_TestPattern_t pattern)
{
    switch (pattern)
    {
        case OV5640_TestPattern_Off:
        {
            OV5640_SCCB_Write_Reg(0x503D, 0x00);
            OV5640_SCCB_Write_Reg(0x4741, 0x00);
            break;
        }
        case OV5640_TestPattern_ColorBar:
        {
            OV5640_SCCB_Write_Reg(0x503D, 0x80);
            OV5640_SCCB_Write_Reg(0x4741, 0x00);
            break;
        }
        case OV5640_TestPattern_ColorSquare:
        {
            OV5640_SCCB_Write_Reg(0x503D, 0x82);
            OV5640_SCCB_Write_Reg(0x4741, 0x00);
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_OutputFormat_Config
 *
 * @brief   Configure the ov5640 output image format.
 *
 * @param   format - the test pattern
 *               OV5640_OutputFormat_RGB565 - RGB565
 *               OV5640_OutputFormat_JPEG - JPEG
 *
 * @return  success or error
 */
UINT8 OV5640_OutputFormat_Config(OV5640_OutputFormat_t format)
{
    UINT32 i;
    
    switch (format)
    {
        case OV5640_OutputFormat_RGB565:
        {
            for (i=0; i<sizeof(OV5640_RGB565RegTbl)/sizeof(OV5640_RGB565RegTbl[0]); i++)
            {
                OV5640_SCCB_Write_Reg(OV5640_RGB565RegTbl[i].reg, OV5640_RGB565RegTbl[i].data);
            }
            break;
        }
        case OV5640_OutputFormat_JPEG:
        {
            for (i=0; i<sizeof(OV5640_JPEGRegTbl)/sizeof(OV5640_JPEGRegTbl[0]); i++)
            {
                OV5640_SCCB_Write_Reg(OV5640_JPEGRegTbl[i].reg, OV5640_JPEGRegTbl[i].data);
            }
            break;
        }
        default:
        {
            return OV5640_ERROR;
        }
    }
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_InputWindowSize_Config
 *
 * @brief   Configure the input window size of the ov5640 ISP.
 *
 * @param   x - the starting x-coordinate of the ISP input window
 *          y - the starting y-coordinate of the ISP input window
 *          width - ISP input window width
 *          height - ISP input window height
 *
 * @return  success or error
 */
UINT8 OV5640_InputWindowSize_Config(uint16_t x, uint16_t y, uint16_t width, uint16_t height)
{
    UINT8 reg3800;
    UINT8 reg3801;
    UINT8 reg3802;
    UINT8 reg3803;
    UINT8 reg3804;
    UINT8 reg3805;
    UINT8 reg3806;
    UINT8 reg3807;
    UINT16 x_end;
    UINT16 y_end;
    
    x_end = x + width;
    y_end = y + height;
    
    if ((x_end > OV5640_ISP_INPUT_WIDTH_MAX) || (y_end > OV5640_ISP_INPUT_HEIGHT_MAX))
    {
        return OV5640_ERROR;
    }
    
    reg3800 = OV5640_SCCB_Read_Reg(0x3800);
    reg3802 = OV5640_SCCB_Read_Reg(0x3802);
    reg3804 = OV5640_SCCB_Read_Reg(0x3804);
    reg3806 = OV5640_SCCB_Read_Reg(0x3806);
    
    reg3800 &= ~0x0F;
    reg3800 |= (UINT8)(x >> 8) & 0x0F;
    reg3801 = (UINT8)x & 0xFF;
    reg3802 &= ~0x0F;
    reg3802 |= (UINT8)(y >> 8) & 0x0F;
    reg3803 = (UINT8)y & 0xFF;
    reg3804 &= ~0x0F;
    reg3804 |= (UINT8)(x_end >> 8) & 0x0F;
    reg3805 = (UINT8)x_end & 0xFF;
    reg3806 &= ~0x07;
    reg3806 |= (UINT8)(y_end >> 8) & 0x07;
    reg3807 = (UINT8)y_end & 0xFF;
    
    OV5640_SCCB_Write_Reg(0x3212, 0x03);
    OV5640_SCCB_Write_Reg(0x3800, reg3800);
    OV5640_SCCB_Write_Reg(0x3801, reg3801);
    OV5640_SCCB_Write_Reg(0x3802, reg3802);
    OV5640_SCCB_Write_Reg(0x3803, reg3803);
    OV5640_SCCB_Write_Reg(0x3804, reg3804);
    OV5640_SCCB_Write_Reg(0x3805, reg3805);
    OV5640_SCCB_Write_Reg(0x3806, reg3806);
    OV5640_SCCB_Write_Reg(0x3807, reg3807);
    OV5640_SCCB_Write_Reg(0x3212, 0x13);
    OV5640_SCCB_Write_Reg(0x3212, 0xA3);
    
    OV5640_ISP_InputSize_Get();
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_PreScalingWindow_Config
 *
 * @brief   Configure the ov5640 pre-scaling window offset.
 *
 * @param   x_offset - Pre-scale the x-offset of the window
 *          y_offset - Pre-scale the Y-offset of the window
 *
 * @return  success or error
 */
UINT8 OV5640_PreScalingWindow_Config(uint16_t x_offset, uint16_t y_offset)
{
    UINT8 reg3810;
    UINT8 reg3811;
    UINT8 reg3812;
    UINT8 reg3813;
    
    reg3810 = (UINT8)(x_offset >> 8) & 0x0F;
    reg3811 = (UINT8)x_offset & 0xFF;
    reg3812 = (UINT8)(y_offset >> 8) & 0x07;
    reg3813 = (UINT8)y_offset & 0xFF;
    
    OV5640_SCCB_Write_Reg(0x3212, 0x03);
    OV5640_SCCB_Write_Reg(0x3810, reg3810);
    OV5640_SCCB_Write_Reg(0x3811, reg3811);
    OV5640_SCCB_Write_Reg(0x3812, reg3812);
    OV5640_SCCB_Write_Reg(0x3813, reg3813);
    OV5640_SCCB_Write_Reg(0x3212, 0x13);
    OV5640_SCCB_Write_Reg(0x3212, 0xA3);
    
    OV5640_PreScalingSize_Get();
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_OutputSize_Config
 *
 * @brief   Configure the output image size of the ov5640.
 *
 * @param   width - The width of the actual output image
 *          height - The height of the actual output image
 *
 * @return  success or error
 */
UINT8 OV5640_OutputSize_Config(uint16_t width, uint16_t height)
{
    UINT8 reg3808;
    UINT8 reg3809;
    UINT8 reg380A;
    UINT8 reg380B;
    
    reg3808 = OV5640_SCCB_Read_Reg(0x3808);
    reg380A = OV5640_SCCB_Read_Reg(0x380A);
    
    reg3808 &= ~0x0F;
    reg3808 |= (UINT8)(width >> 8) & 0x0F;
    reg3809 = (UINT8)width & 0xFF;
    reg380A &= ~0x07;
    reg380A |= (UINT8)(height >> 8) & 0x07;
    reg380B = (UINT8)height & 0xFF;
    
    OV5640_SCCB_Write_Reg(0x3212, 0x03);
    OV5640_SCCB_Write_Reg(0x3808, reg3808);
    OV5640_SCCB_Write_Reg(0x3809, reg3809);
    OV5640_SCCB_Write_Reg(0x380A, reg380A);
    OV5640_SCCB_Write_Reg(0x380B, reg380B);
    OV5640_SCCB_Write_Reg(0x3212, 0x13);
    OV5640_SCCB_Write_Reg(0x3212, 0xA3);
    
    OV5640_OutputSize_Get();
    
    return OV5640_SUCCESS;
}

/*********************************************************************
 * @fn      OV5640_RGB565_Mode_Init
 *
 * @brief   Init ov5640 RGB565 mode
 *
 * @return  none
 */
void OV5640_RGB565_Mode_Init(void)
{
    OV5640_OutputFormat_Config(OV5640_OutputFormat_RGB565);
    OV5640_AutoFocus_Init();
    OV5640_AutoFocus_Continuous();
    OV5640_LightMode_Config(OV5640_LightMode_AdvancedAWB);
    OV5640_ColorSaturation_Config(OV5640_ColorSaturation_4);
    OV5640_Brightness_Config(OV5640_Brightness_4);
    OV5640_Contrast_Config(OV5640_Contrast_4);
    OV5640_Hue_Config(OV5640_Hue_6);
    OV5640_SpecialEffect_Config(OV5640_SpecialEffect_Normal);
    OV5640_Exposure_Config(OV5640_Exposure_5);
    OV5640_Sharpness_Config(OV5640_Sharpness_9);
    OV5640_MirrorInversion_Config(OV5640_MirrorInversion_2);
    OV5640_TestPattern_Config(OV5640_TestPattern_Off);
    OV5640_PreScalingWindow_Config(4, 0);
    OV5640_OutputSize_Config(OV5640_RGB565_WIDTH, OV5640_RGB565_HEIGHT);
    printf("Camera Model Init done\r\n");
}


/*********************************************************************
 * @fn      OV5640_DVP_GPIO_Init
 *
 * @brief   Init DVP GPIO.
 *
 * @return  none
 */
void OV5640_DVP_GPIO_Init(void) 
{
    GPIO_InitTypeDef GPIO_InitStructure = {0};
    RCC_HB2PeriphClockCmd(RCC_HB2Periph_AFIO | RCC_HB2Periph_GPIOE | RCC_HB2Periph_GPIOB | 
                          RCC_HB2Periph_GPIOC | RCC_HB2Periph_GPIOD | RCC_HB2Periph_GPIOF, ENABLE);

	/* DPWDN-PB0  RESET-PD2 */
	GPIO_InitStructure.GPIO_Pin  = GPIO_Pin_0; 
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_Very_High;
    GPIO_Init(GPIOB, &GPIO_InitStructure);
    GPIO_InitStructure.GPIO_Pin  = GPIO_Pin_2; 
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_Very_High;
    GPIO_Init(GPIOD, &GPIO_InitStructure);
    
	/* SCL-PC0  SDA-PC1 */  
    GPIO_InitStructure.GPIO_Pin  = GPIO_Pin_0 | GPIO_Pin_1;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
    GPIO_Init(GPIOC, &GPIO_InitStructure);

    GPIO_PinAFConfig(GPIOB, GPIO_PinSource7, GPIO_AF13);   /* VSYNC */
    GPIO_InitStructure.GPIO_Pin = GPIO_Pin_7;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
    GPIO_Init(GPIOB, &GPIO_InitStructure);

    GPIO_PinAFConfig(GPIOF, GPIO_PinSource13, GPIO_AF11);  /* DPCLK */
    GPIO_PinAFConfig(GPIOB, GPIO_PinSource13, GPIO_AF8);   /* HERF */ 
    GPIO_InitStructure.GPIO_Pin = GPIO_Pin_13;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
    GPIO_Init(GPIOB, &GPIO_InitStructure);

    GPIO_PinAFConfig(GPIOE, GPIO_PinSource0, GPIO_AF11);   /* D0 */
    GPIO_PinAFConfig(GPIOE, GPIO_PinSource1, GPIO_AF11);   /* D1 */
    GPIO_PinAFConfig(GPIOE, GPIO_PinSource2, GPIO_AF13);   /* D2 */
    GPIO_PinAFConfig(GPIOE, GPIO_PinSource3, GPIO_AF13);   /* D3 */
    GPIO_PinAFConfig(GPIOE, GPIO_PinSource4, GPIO_AF13);   /* D4 */
    GPIO_PinAFConfig(GPIOE, GPIO_PinSource5, GPIO_AF13);   /* D6 */
    GPIO_PinAFConfig(GPIOE, GPIO_PinSource6, GPIO_AF13);   /* D7 */
    GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0 | GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4 | GPIO_Pin_5 | GPIO_Pin_6;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
    GPIO_Init(GPIOE, &GPIO_InitStructure);

    GPIO_PinAFConfig(GPIOF, GPIO_PinSource14, GPIO_AF11);  /* D5 */
    GPIO_InitStructure.GPIO_Pin = GPIO_Pin_14;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
    GPIO_Init(GPIOF, &GPIO_InitStructure);

    GPIO_PinAFConfig(GPIOC, GPIO_PinSource10, GPIO_AF13);  /* D8 */
    GPIO_PinAFConfig(GPIOC, GPIO_PinSource12, GPIO_AF13);  /* D9 */
    GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10 | GPIO_Pin_12;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
    GPIO_Init(GPIOC, &GPIO_InitStructure);

    GPIO_PinAFConfig(GPIOD, GPIO_PinSource6, GPIO_AF13);  /* D10 */
    GPIO_PinAFConfig(GPIOD, GPIO_PinSource2, GPIO_AF13);  /* D11 */
    GPIO_InitStructure.GPIO_Pin = GPIO_Pin_6 | GPIO_Pin_2;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
    GPIO_Init(GPIOD, &GPIO_InitStructure);
}

